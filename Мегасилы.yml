version: "2.0"
rules:
  - rule: megasily notMF
    condition:
    - slot_was_set:
        - is-mf: False
    steps:
      - intent: megasily
      - action: utter_megasily_not_mf
      - action: utter_ask_question
        
#Клиент сросил условия Связь при нуле
  - rule: svyaz-pri-nule podkl
    condition:
    - slot_was_set:
        - is-mf: True
    steps:
      - intent: megasily
      - action: action_technical-actions_is-slot-in-list-option-svyaz-pri-nule          #сущность определилась
      - slot_was_set:
          - is-slot-in-list-option-svyaz-pri-nule: True
      - action: action_subscriber-products_connected-tarif-megasily-svyaz-pri-nule    #проверка на доступность на тарифе 
      - slot_was_set:
          - tarif-megasily-svyaz-pri-nule: Set
      - action: utter_megasily_svyaz_pri_nule_new
      - action: action_technical-actions_get-cleaning-megasily
      - slot_was_set:
          - tarif-megasily: null
          - region-megasily: null
          - infl-OSHIBKA: null
          - OSHIBKA: null
          - OPTION: null
      - action: utter_ask_question

  - rule: svyaz-pri-nule podkl
    condition:
    - slot_was_set:
        - is-mf: True
    steps:
      - intent: megasily
      - action: action_technical-actions_is-slot-in-list-option-svyaz-pri-nule          #сущность определилась
      - slot_was_set:
          - is-slot-in-list-option-svyaz-pri-nule: True
      - action: action_subscriber-products_connected-tarif-megasily-svyaz-pri-nule  #проверка на доступность на тарифе 
      - slot_was_set:
          - tarif-megasily-svyaz-pri-nule: null
      - action: action_technical-actions_get-cleaning-megasily
      - slot_was_set:
          - tarif-megasily: null
          - region-megasily: null
          - infl-OSHIBKA: null
          - OSHIBKA: null
          - OPTION: null
      - action: utter_megasily_svyaz_pri_nule_vopros   #(Изменю)

  - rule: megasily hochet tarif bezpereplat not ivr
    steps:
      - action: utter_megasily_svyaz_pri_nule_vopros 
      - intent: yes
      - action: action_redirect-intent_get-redirect-intent-tarify-bez-pereplat #Перевод в смену тп

  - rule: megasily ne hochet tarif bezpereplat
    steps:
      - action: utter_megasily_svyaz_pri_nule_vopros 
      - intent: no
      - action: utter_ask_question          

#У клиента тариф не линейки без переплат, предлагаем перейти на них и если согласен переводим в старое решение
  - rule: megasily not bezpereplat bez oshibki
    condition:
    - slot_was_set:
        - is-mf: True
    steps:
      - intent: megasily
      - action: action_technical-actions_is-slot-in-list-option-svyaz-pri-nule          #сущность не определилась
      - slot_was_set:
          - is-slot-in-list-option-svyaz-pri-nule: False
      - action: action_subscriber-products_connected-tarif-megasily #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0)
      - slot_was_set:
          - tarif-megasily: null
      - action: action_subscriber-products_connected-tarif-ms-zaglushka #проверка на тариф с МС Закачайся! и Персональный 3.0
      - slot_was_set:
          - tarif-megasily: null
      - action: action_technical-actions_copy-slot-infl-OSHIBKA
      - slot_was_set:
          - infl-OSHIBKA: null
      - action: action_technical-actions_get-cleaning-megasily
      - slot_was_set:
          - tarif-megasily: null
          - region-megasily: null
          - infl-OSHIBKA: null
          - OSHIBKA: null
          - OPTION: null
      - action: utter_megasily_not_tarif

  - rule: megasily not bezpereplat s oshibkoi
    condition:
    - slot_was_set:
        - is-mf: True
    steps:
      - intent: megasily
      - action: action_technical-actions_is-slot-in-list-option-svyaz-pri-nule          #сущность не определилась
      - slot_was_set:
          - is-slot-in-list-option-svyaz-pri-nule: False
      - action: action_subscriber-products_connected-tarif-megasily #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0)
      - slot_was_set:
          - tarif-megasily: null
      - action: action_subscriber-products_connected-tarif-ms-zaglushka #проверка на тариф с МС Закачайся! и Персональный 3.0
      - slot_was_set:
          - tarif-megasily: null
      - action: action_technical-actions_copy-slot-infl-OSHIBKA
      - slot_was_set:
          - infl-OSHIBKA: Set
      - action: action_technical-actions_get-cleaning-megasily
      - slot_was_set:
          - tarif-megasily: null
          - region-megasily: null
          - infl-OSHIBKA: null
          - OSHIBKA: null
          - OPTION: null
      - action: utter_megasily_oshibka

  - rule: mikrointent lichnyj kabinet oshibka
    steps:
      - action: utter_megasily_not_tarif
      - intent: lichnyj_kabinet_oshibka
      - action: utter_megasily_oshibka

#У клиента тариф не линейки без переплат, предлагаем перейти на них и если согласен переводим в старое решение
  - rule: megasily not bezpereplat bez oshibki
    condition:
    - slot_was_set:
        - is-mf: True
    steps:
      - intent: megasily
      - action: action_technical-actions_is-slot-in-list-option-svyaz-pri-nule          #сущность не определилась
      - slot_was_set:
          - is-slot-in-list-option-svyaz-pri-nule: False
      - action: action_subscriber-products_connected-tarif-megasily #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0)
      - slot_was_set:
          - tarif-megasily: null
      - action: action_subscriber-products_connected-tarif-ms-zaglushka #проверка на тариф с МС Закачайся! и Персональный 3.0
      - slot_was_set:
          - tarif-megasily: Set
      - action: action_technical-actions_copy-slot-infl-OSHIBKA
      - slot_was_set:
          - infl-OSHIBKA: null
      - action: utter_megasily_zaglushka
      - action: action_send_sms_megasily_zaglushka
      - action: action_technical-actions_get-cleaning-megasily
      - slot_was_set:
          - tarif-megasily: null
          - region-megasily: null
          - infl-OSHIBKA: null
          - OSHIBKA: null
          - OPTION: null
      - action: utter_ask_question

  - rule: megasily not bezpereplat s oshibkoi
    condition:
    - slot_was_set:
        - is-mf: True
    steps:
      - intent: megasily
      - action: action_technical-actions_is-slot-in-list-option-svyaz-pri-nule          #сущность не определилась
      - slot_was_set:
          - is-slot-in-list-option-svyaz-pri-nule: False
      - action: action_subscriber-products_connected-tarif-megasily #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0)
      - slot_was_set:
          - tarif-megasily: null
      - action: action_subscriber-products_connected-tarif-ms-zaglushka #проверка на тариф с МС Закачайся! и Персональный 3.0
      - slot_was_set:
          - tarif-megasily: Set
      - action: action_technical-actions_copy-slot-infl-OSHIBKA
      - slot_was_set:
          - infl-OSHIBKA: Set
      - action: action_technical-actions_get-cleaning-megasily
      - slot_was_set:
          - tarif-megasily: null
          - region-megasily: null
          - infl-OSHIBKA: null
          - OSHIBKA: null
          - OPTION: null
      - action: utter_megasily_oshibka

  - rule: mikrointent lichnyj kabinet oshibka
    steps:
      - action: utter_megasily_zaglushka
      - intent: lichnyj_kabinet_oshibka
      - action: utter_megasily_oshibka

  - rule: megasily hochet tarif bezpereplat ivr
    steps:
      - action: utter_megasily_not_tarif
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_perevod_v_tarify_bez_pereplat #Перевод в старое решение голос

  - rule: megasily hochet tarif bezpereplat not ivr
    steps:
      - action: utter_megasily_not_tarif
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_redirect-intent_get-redirect-intent-tarify-bez-pereplat #Перевод в старое решение чат

  - rule: megasily ne hochet tarif bezpereplat
    steps:
      - action: utter_megasily_not_tarif
      - intent: no
      - action: utter_ask_question

#У клиента тариф из последней линейки без переплат/персональный регион не Норильск и Чукотка
  - rule: megasily bezpereplat ne norilsk ne chukotka bez oshibki
    condition:
    - slot_was_set:
        - is-mf: True
    steps:
      - intent: megasily
      - action: action_technical-actions_is-slot-in-list-option-svyaz-pri-nule          #сущность не определилась
      - slot_was_set:
          - is-slot-in-list-option-svyaz-pri-nule: False
      - action: action_subscriber-products_connected-tarif-megasily #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0)
      - slot_was_set:
          - tarif-megasily: Set
      - action: action_technical-actions_copy-slot-infl-OSHIBKA
      - slot_was_set:
          - infl-OSHIBKA: null
      - action: action_technical-actions_copy-slot-tarif-megasily #Копируем тариф в невлияющий категориальный счет, понадобится в аттерах где называем стоимость опции
      - action: action_technical-actions_is-slot-in-list-region-megasily
      - slot_was_set:
          - region-megasily: False
      - action: action_technical-actions_get-cleaning-megasily
      - slot_was_set:
          - tarif-megasily: null
          - region-megasily: null
          - infl-OSHIBKA: null
          - OSHIBKA: null
          - OPTION: null
      - action: utter_condition_megasily_notregion #Выбор из 6 пунктов из какой категории Мегасилы

  - rule: megasily bezpereplat ne norilsk ne chukotka s oshibkoi
    condition:
    - slot_was_set:
        - is-mf: True
    steps:
      - intent: megasily
      - action: action_technical-actions_is-slot-in-list-option-svyaz-pri-nule          #сущность не определилась
      - slot_was_set:
          - is-slot-in-list-option-svyaz-pri-nule: False
      - action: action_subscriber-products_connected-tarif-megasily #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0)
      - slot_was_set:
          - tarif-megasily: Set
      - action: action_technical-actions_copy-slot-infl-OSHIBKA
      - slot_was_set:
          - infl-OSHIBKA: Set
      - action: action_technical-actions_copy-slot-tarif-megasily #Копируем тариф в невлияющий категориальный счет, понадобится в юттерах где называем стоимость опции
      - action: action_technical-actions_is-slot-in-list-region-megasily
      - slot_was_set:
          - region-megasily: False
      - action: action_technical-actions_get-cleaning-megasily
      - slot_was_set:
          - tarif-megasily: null
          - region-megasily: null
          - infl-OSHIBKA: null
          - OSHIBKA: null
          - OPTION: null
      - action: utter_megasily_oshibka

  - rule: mikrointent lichnyj kabinet oshibka
    steps:
      - action: utter_condition_megasily_notregion
      - intent: lichnyj_kabinet_oshibka
      - action: utter_megasily_oshibka

  - rule: megasily otkl ivr podtverdil
    steps:
      - action: utter_megasily_oshibka
      - intent: '1'
      - action: utter_megasily_oshibka_k1011
      - action: utter_ask_question

  - rule: megasily otkl ivr podtverdil
    steps:
      - action: utter_megasily_oshibka
      - intent: '2'
      - action: utter_megasily_oshibka_o191
      - action: utter_ask_question

  - rule: megasily otkl ivr podtverdil
    steps:
      - action: utter_megasily_oshibka
      - intent: '3'
      - action: utter_megasily_oshibka_o167_error00
      - action: utter_ask_question

  - rule: megasily otkl ivr podtverdil
    steps:
      - action: utter_megasily_oshibka
      - intent: '4'
      - action: utter_megasily_oshibka_o166_o153
      - action: utter_ask_question

#Выбрал перенос остатков
#Перенос остатков подключен, хочет отключить
  - rule: megasily est perenos ostatkov otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '1'
      - action: action_subscriber-products_connected-product-perenos-ostatkov #Проверка на наличие переноса остатков
      - slot_was_set:
          - connected-product-perenos-ostatkov: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-perenos-ostatkov
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-perenos-ostatkov: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_otkl_perenos_ostatkov

  - rule: megasily est perenos ostatkov peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_perenos_ostatkov
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily est perenos ostatkov otkluchit chat
    steps:
      - action: utter_megasily_otkl_perenos_ostatkov
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily est perenos ostatkov otkluchit ivr
    steps:
      - action: utter_megasily_otkl_perenos_ostatkov
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl

#Далее общий кусок для всех отключений

  - rule: megasily otkl ivr podtverdil
    steps:
      - action: utter_megasily_push_one_otkl
      - intent: '1'
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily otkl net otveta
    steps:
      - action: utter_megasily_push_one_otkl
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question
  
#Перенос остатков подключен, хочет инфо или подключить
  - rule: megasily est perenos ostatkov ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '1'
      - action: action_subscriber-products_connected-product-perenos-ostatkov #Проверка на наличие переноса остатков
      - slot_was_set:
          - connected-product-perenos-ostatkov: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-megasily-perenos-ostatkov
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-perenos-ostatkov: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_perenos_ostatkov
      - action: utter_ask_question

#Перенос остатков не подключен, хочет отключить
  - rule: megasily net perenosa ostatkov otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '1'
      - action: action_subscriber-products_connected-product-perenos-ostatkov #Проверка на наличие переноса остатков
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-perenos-ostatkov
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-perenos-ostatkov: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Перенос остатков не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть
  - rule: megasily net perenosa ostatkov, podklyuchit', tarif s rasshiritelyami, est' konflikt
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '1'
      - action: action_subscriber-products_connected-product-perenos-ostatkov #Проверка на наличие переноса остатков
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-perenos-ostatkov
      - slot_was_set:
          - conflicts-exists-perenos-ostatkov: True    
      - action: action_extended-manage-product_check-conflicts-exists-perenos-ostatkov-505562
      - slot_was_set:
          - conflicts-exists-perenos-ostatkov: True    
      - action: action_technical-actions_get-cleaning-megasily-perenos-ostatkov-new
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-perenos-ostatkov: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
      - action: utter_megasily_perenos_ostatkov_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question
      
      #Перенос остатов дя МФ 4.0 конфикт не пришёл, предааем подключить
  - rule: megasily net perenosa ostatkov, podklyuchit', tarif s rasshiritelyami, est' konflikt
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '1'
      - action: action_subscriber-products_connected-product-perenos-ostatkov #Проверка на наличие переноса остатков
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-perenos-ostatkov
      - slot_was_set:
          - conflicts-exists-perenos-ostatkov: True    
      - action: action_extended-manage-product_check-conflicts-exists-perenos-ostatkov-505562
      - slot_was_set:
          - conflicts-exists-perenos-ostatkov: False    
      - action: action_technical-actions_get-cleaning-megasily-perenos-ostatkov-new
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-perenos-ostatkov: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
      - action: utter_megasily_perenos_ostatkov_505562 #предагаем подключить
      
      
      #Подклчаем 505562 перенос остатков
  - rule: megasily ne hochet podkluchat perenos ostatkov, tarif s rasshiritelyami
    steps:
      - action: utter_megasily_perenos_ostatkov_505562
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, tarif s rasshiritelyami
    steps:
      - action: utter_megasily_perenos_ostatkov_505562
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-perenos-ostatkov-505562    
      - action: utter_megasily_result_podkl_perenos_ostatkov
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov ivr, tarif s rasshiritelyami
    steps:
      - action: utter_megasily_perenos_ostatkov_505562
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_perenos_ostatkov_505562
      
  - rule: megasily podkluchenie perenosa ostatkov ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_perenos_ostatkov_505562
      - intent: '1'
      - action: action_extended-manage-product_activate-product-perenos-ostatkov-505562    
      - action: utter_megasily_result_podkl_perenos_ostatkov
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_perenos_ostatkov_505562
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question 
      

#Перенос остатков не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения null
  - rule: megasily net perenosa ostatkov, podklyuchit', tarif s rasshiritelyami, konflikt null
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '1'
      - action: action_subscriber-products_connected-product-perenos-ostatkov #Проверка на наличие переноса остатков
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-perenos-ostatkov
      - slot_was_set:
          - conflicts-exists-perenos-ostatkov: null    
      - action: action_technical-actions_get-cleaning-megasily-perenos-ostatkov-new
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-perenos-ostatkov: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
      - action: utter_megasily_perenos_ostatkov_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk #doit
      - action: utter_ask_question

#Перенос остатков не подключен, хочет подключить или инфо, тариф с расширителями, конфликта подключения нет
  - rule: megasily net perenosa ostatkov, podklyuchit', tarif s rasshiritelyami, konflikta net
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '1'
      - action: action_subscriber-products_connected-product-perenos-ostatkov #Проверка на наличие переноса остатков
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-perenos-ostatkov
      - slot_was_set:
          - conflicts-exists-perenos-ostatkov: False    
      - action: action_technical-actions_get-cleaning-megasily-perenos-ostatkov-new
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-perenos-ostatkov: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
      - action: utter_megasily_podkl_perenos_ostatkov_rasshiritel

  - rule: megasily ne hochet podkluchat perenos ostatkov, tarif s rasshiritelyami
    steps:
      - action: utter_megasily_podkl_perenos_ostatkov_rasshiritel
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, tarif s rasshiritelyami
    steps:
      - action: utter_megasily_podkl_perenos_ostatkov_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-perenos-ostatkov    
      - action: utter_megasily_result_podkl_perenos_ostatkov
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov ivr, tarif s rasshiritelyami
    steps:
      - action: utter_megasily_podkl_perenos_ostatkov_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_perenos_ostatkov

#Перенос остатков не подключен, хочет подключить или инфо, тариф без расширителей
  - rule: megasily net perenosa ostatkov ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '1'
      - action: action_subscriber-products_connected-product-perenos-ostatkov #Проверка на наличие переноса остатков
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
      - action: action_technical-actions_get-cleaning-megasily-perenos-ostatkov-new
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-perenos-ostatkov: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
      - action: utter_megasily_podkl_perenos_ostatkov

  - rule: megasily ne hochet podkluchat perenos ostatkov
    steps:
      - action: utter_megasily_podkl_perenos_ostatkov
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily hochet podkluchit perenos ostatkov est conflict
    steps:
      - action: utter_megasily_podkl_perenos_ostatkov
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-perenos-ostatkov
      - slot_was_set:
          - conflicts-exists-perenos-ostatkov: True
      - action: action_technical-actions_get-cleaning-megasily-perenos-ostatkov
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-perenos-ostatkov: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie perenosa ostatkov chat
    steps:
      - action: utter_megasily_podkl_perenos_ostatkov
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-perenos-ostatkov
      - slot_was_set:
          - conflicts-exists-perenos-ostatkov: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-perenos-ostatkov
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-perenos-ostatkov: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: action_extended-manage-product_activate-product-perenos-ostatkov    
      - action: utter_megasily_result_podkl_perenos_ostatkov
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, konflikt null
    steps:
      - action: utter_megasily_podkl_perenos_ostatkov
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-perenos-ostatkov
      - slot_was_set:
          - conflicts-exists-perenos-ostatkov: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-perenos-ostatkov
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-perenos-ostatkov: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: action_extended-manage-product_activate-product-perenos-ostatkov    
      - action: utter_megasily_result_podkl_perenos_ostatkov
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov ivr
    steps:
      - action: utter_megasily_podkl_perenos_ostatkov
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-perenos-ostatkov
      - slot_was_set:
          - conflicts-exists-perenos-ostatkov: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-perenos-ostatkov
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-perenos-ostatkov: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_push_one_podkl_perenos_ostatkov

  - rule: megasily podkluchenie perenosa ostatkov ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_perenos_ostatkov
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-perenos-ostatkov
      - slot_was_set:
          - conflicts-exists-perenos-ostatkov: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-perenos-ostatkov
      - slot_was_set:
          - connected-product-perenos-ostatkov: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-perenos-ostatkov: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_push_one_podkl_perenos_ostatkov

  - rule: megasily podkluchenie perenosa ostatkov ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_perenos_ostatkov
      - intent: '1'
      - action: action_extended-manage-product_activate-product-perenos-ostatkov    
      - action: utter_megasily_result_podkl_perenos_ostatkov
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_perenos_ostatkov
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_podkl_perenos_ostatkov_povtor

  - rule: megasily podkl perenos ostatkov ivr povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_perenos_ostatkov_povtor
      - intent: '1'
      - action: action_extended-manage-product_activate-product-perenos-ostatkov    
      - action: utter_megasily_result_podkl_perenos_ostatkov
      - action: utter_ask_question

  - rule: megasily podkl perenosa ostatkov net otveta
    steps:
      - action: utter_megasily_push_one_podkl_perenos_ostatkov_povtor
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Выбрал мегасилы для Интернета
  - rule: megasily dlya interneta
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '2'
      - action: utter_condition_megasily_dlya_interneta #Предлагаем 4 варианта на выбор

#Выбрал Мегасилы для общения
  - rule: megasily dlya obscheniya null
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '1'
      - action: action_technical-actions_list-has-slot-megasily-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null #БП! 0822/3.0 и линейка Объединяй!
      - action: utter_condition_megasily_dlya_obcsheniya #даем выбор 2 мегасил

  - rule: megasily dlya obscheniya new otkluchit
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '1'
      - action: action_technical-actions_list-has-slot-megasily-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: one #БП! 2.2 и 2.3, Персональный
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_list-has-slot-megasily-tarif-bez-rasshiritelya #для разметки utter'a
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_otkl_bezlimit_na_socseti

#Безлимит на соцсети подключен, хочет инфо или подключить
  - rule: megasily net bezlimit na socseti new ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '1'
      - action: action_technical-actions_list-has-slot-megasily-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: one #БП! 2.2 и 2.3, Персональный
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-megasily-tarif-bez-rasshiritelya  #для разметки utter'a
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti
      - action: utter_ask_question

#Безлимит на соцсети не подключен, хочет отключить
  - rule: megasily net bezlimit na socseti new otkluchit
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '1'
      - action: action_technical-actions_list-has-slot-megasily-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: one #БП! 2.2 и 2.3, Персональный
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф без расширителей
  - rule: megasily net bezlimit na socseti, ne otkluchit, tarif bez rasshiritel
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '1'
      - action: action_technical-actions_list-has-slot-megasily-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: one #БП! 2.2 и 2.3, Персональный
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_podkl_bezlimit_na_socseti

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф с расширителями, конфликта подключения беспл. нет
  - rule: megasily net bezlimit na socseti, ne otkluchit, tarif s rasshiritel, besplatn mgsl
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '1'
      - action: action_technical-actions_list-has-slot-megasily-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: one #БП! 2.2 и 2.3
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_podkl_bezlimit_na_socseti_bespl

  - rule: megasily ne hochet podkluchat bezlimit na socseti, tarif s rasshiritel
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti_bespl
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na socseti, besplatnaya megasila, tarif s rasshiritel chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti_bespl
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti-free #подключение бесплатной мегасилы на соцсети
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na socseti, besplatnaya megasila, tarif s rasshiritel ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti_bespl
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_free

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф с расширителями, конфликта подключения беспл null
  - rule: megasily net bezlimit na socseti, ne otkluchit, tarif s rasshiritel, besplatn mgsl
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '1'
      - action: action_technical-actions_list-has-slot-megasily-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: one #БП! 2.2 и 2.3, Персональный
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения беспл есть, конфликт подключения платн есть
  - rule: megasily net bezlimit na socseti, ne otkluchit, tarif s rasshiritel, besplatn mgsl
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '1'
      - action: action_technical-actions_list-has-slot-megasily-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: one #БП! 2.2 и 2.3, Персональный
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti #конфликт подключения платной мегасилы
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения беспл есть, конфликт подключения платн null
  - rule: megasily net bezlimit na socseti, ne otkluchit, tarif s rasshiritel, besplatn mgsl
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '1'
      - action: action_technical-actions_list-has-slot-megasily-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: one #БП! 2.2 и 2.3, Персональный
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti #конфликт подключения платной мегасилы
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения беспл есть, конфликт подключения платн нет
  - rule: megasily net bezlimit na socseti, ne otkluchit, tarif s rasshiritel, besplatn mgsl
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '1'
      - action: action_technical-actions_list-has-slot-megasily-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: one #БП! 2.2 и 2.3, Персональный
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti #конфликт подключения платной мегасилы
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti_rasshiritel

  - rule: megasily ne hochet podkluchat bezlimit na socseti, tarif s rasshiritel platnaya megasila
    steps:
      - action: utter_megasily_bezlimit_na_socseti_rasshiritel
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na socseti, tarif s rasshiritel, platnaya megasila, ivr
    steps:
      - action: utter_megasily_bezlimit_na_socseti_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti

  - rule: megasily podkluchenie bezlimit na socseti, besplatnaya megasila, tarif s rasshiritel, platnaya megasila, chat
    steps:
      - action: utter_megasily_bezlimit_na_socseti_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti #подключение платной мегасилы на соцсети
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question
#Выбрал Безлимит на соцсети
#Безлимит на соцсети подключен подключен, хочет отключить
  - rule: megasily bezlimit na socseti otkluchit
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_otkl_bezlimit_na_socseti

  - rule: megasily bezlimit na socseti peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_socseti
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily bezlimit na socseti otkluchit chat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_socseti
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily bezlimit na socseti otkluchit ivr
    steps:
      - action: utter_megasily_otkl_bezlimit_na_socseti
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl #дальше общая часть для всех отключений

#Безлимит на соцсети подключен, хочет инфо или подключить
  - rule: megasily net bezlimit na socseti ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti
      - action: utter_ask_question

#Безлимит на соцсети не подключен, хочет отключить
  - rule: megasily net bezlimit na socseti otkluchit
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф с расширителем, нет конфл.подкл. беспл
  - rule: megasily net bezlimit na socseti ne otkluchit, tarif s rasshiritel, besplatn mgsl
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_podkl_bezlimit_na_socseti_bespl #дальнейшая логика выше

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф с расширителем, конфликта подключения беспл null
  - rule: megasily net bezlimit na socseti ne otkluchit tarif s rasshiritel, besplatn mgsl
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф с расширителем (501069), конфл подключения беспл, нет конфл подкл. платн.
  - rule: megasily net bezlimit na socseti ne otkluchit tarif s rasshiritel, platn mgsl id 501069
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-socseti #Проверяем на тарифы с id расширителем 501069
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-socseti: 501069
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti #конфликт подключения платной мегасилы
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti_rasshiritel #дальнейшая логика выше

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф с расширителем (501069), конфликт подключения беспл, конфлю подкл. платн. null
  - rule: megasily net bezlimit na socseti ne otkluchit tarif s rasshiritel, platn mgsl id 501069, konfl null
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-socseti #Проверяем на тарифы с id расширителем 501069
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-socseti: 501069
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti #конфликт подключения платной мегасилы
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф с расширителем (501069), конфликт подключения беспл и платн.
  - rule: megasily net bezlimit na socseti ne otkluchit tarif s rasshiritel, platn mgsl id 501069, konfl est'
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-socseti #Проверяем на тарифы с id расширителем 501069
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-socseti: 501069
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti #конфликт подключения платной мегасилы
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question


#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф с расширителем (502501), конфл подключения беспл, нет конфл подкл. платн.
  - rule: megasily net bezlimit na socseti ne otkluchit tarif s rasshiritel, platn mgsl id 502501
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-socseti #Проверяем на тарифы с id расширителем 501069
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-two #конфликт подключения платной мегасилы 502501
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti_rasshiritel_two

  - rule: megasily ne hochet podkluchat bezlimit na socseti, tarif s rasshiritel platnaya megasila 502501
    steps:
      - action: utter_megasily_bezlimit_na_socseti_rasshiritel_two
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na socseti, tarif s rasshiritel, platnaya megasila 502501, ivr
    steps:
      - action: utter_megasily_bezlimit_na_socseti_rasshiritel_two
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_two

  - rule: megasily podkl bezlimit na socseti, platnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_two
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti-two #подключение платной мегасилы на соцсети 502501
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na socseti, platnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_two
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question 

  - rule: megasily podkluchenie bezlimit na socseti, besplatnaya megasila, tarif s rasshiritel, platnaya megasila 502501, chat
    steps:
      - action: utter_megasily_bezlimit_na_socseti_rasshiritel_two
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti-two #подключение платной мегасилы на соцсети 502501
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф с расширителем (502501), конфликт подключения беспл, конфлю подкл. платн. null
  - rule: megasily net bezlimit na socseti ne otkluchit tarif s rasshiritel, platn mgsl id 502501, konfl null
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-socseti #Проверяем на тарифы с id расширителем 501069
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-two #конфликт подключения платной мегасилы 502501
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф с расширителем (502501), конфликт подключения беспл и платн.
  - rule: megasily net bezlimit na socseti ne otkluchit tarif s rasshiritel, platn mgsl id 502501, konfl est'
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-socseti #Проверяем на тарифы с id расширителем 501069
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-two #конфликт подключения платной мегасилы 502501
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф без расширителя
  - rule: megasily net bezlimit na socseti ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_podkl_bezlimit_na_socseti

  - rule: megasily ne hochet podkluchat bezlimit na socseti
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

#Подключение платной мегасилы безлимит на соцсети
  - rule: megasily hochet podkluchit bezlimit na socseti, platnaya megasila, est conflict 
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-socseti-free #входит ли в список тарифов с бесплатной мегасилой соц.сети
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-socseti-new
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
          - conflicts-exists-bezlimit-na-socseti: null
          - is-slot-in-list-channel-ivr: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie bezlimit na socseti, platnaya megasila, chat, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-socseti-free #входит ли в список тарифов с бесплатной мегасилой соц.сети
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-socseti-new
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
          - conflicts-exists-bezlimit-na-socseti: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti #подключение платной мегасилы на соцсети
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na socseti, platnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-socseti-free #входит ли в список тарифов с бесплатной мегасилой соц.сети
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-socseti-new
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
          - conflicts-exists-bezlimit-na-socseti: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti #подключение платной мегасилы на соцсети
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na socseti, platnaya megasila, ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-socseti-free #входит ли в список тарифов с бесплатной мегасилой соц.сети
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-socseti-new
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
          - conflicts-exists-bezlimit-na-socseti: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti

  - rule: megasily podkluchenie bezlimit na socseti, platnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-socseti-free #входит ли в список тарифов с бесплатной мегасилой соц.сети
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-socseti-new
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
          - conflicts-exists-bezlimit-na-socseti: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti

  - rule: megasily podkluchenie bezlimit na socseti, platnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti #подключение платной мегасилы на соцсети
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na socseti, platnaya megasila, ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_povtor

  - rule: megasily podkl bezlimit na socseti, platnaya megasila, ivr povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_povtor
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti #подключение платной мегасилы на соцсети
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na socseti, platnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_povtor
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question 

#Подключение БЕСПЛАТНОЙ мегасилы безлимит на соцсети
  - rule: megasily hochet podkluchit bezlimit na socseti, besplatnaya megasila, est conflict 
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-socseti-free #входит ли в список тарифов с бесплатной мегасилой соц.сети
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: socseti-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-socseti-new
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
          - conflicts-exists-bezlimit-na-socseti: null
          - is-slot-in-list-channel-ivr: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie bezlimit na socseti, besplatnaya megasila, chat, konflict null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-socseti-free #входит ли в список тарифов с бесплатной мегасилой соц.сети
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: socseti-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-socseti-new
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
          - conflicts-exists-bezlimit-na-socseti: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti-free #подключение бесплатной мегасилы на соцсети
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na socseti, besplatnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-socseti-free #входит ли в список тарифов с бесплатной мегасилой соц.сети
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: socseti-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-socseti-new
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
          - conflicts-exists-bezlimit-na-socseti: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti-free #подключение бесплатной мегасилы на соцсети
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na socseti, besplatnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-socseti-free #входит ли в список тарифов с бесплатной мегасилой соц.сети
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: socseti-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-socseti-new
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
          - conflicts-exists-bezlimit-na-socseti: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_free

  - rule: megasily podkluchenie bezlimit na socseti, besplatnaya megasila, ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-socseti-free #входит ли в список тарифов с бесплатной мегасилой соц.сети
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: socseti-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-socseti-new
      - slot_was_set:
          - list-has-slot-megasily-socseti-free: null
          - conflicts-exists-bezlimit-na-socseti: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_free

  - rule: megasily podkluchenie bezlimit na socseti, besplatnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti-free #подключение бесплатной мегасилы на соцсети
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na socseti, besplatnaya megasila, ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_povtor_free

  - rule: megasily podkl bezlimit na socseti, besplatnaya megasila, ivr povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_povtor_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti-free #подключение бесплатной мегасилы на соцсети
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na socseti, besplatnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_povtor_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question 

#БЕЗЛИМИТ НА СОЦСЕТИ ДЛЯ 3.2
#Безлимит на соцсети не подключен, хочет подключить или инфо, тариф 3.2 подключаем 504316
  - rule: megasily net bezlimit na socseti ne otkluchit 504316 conflict, rasshiritel conflict
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-504316
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-two
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily net bezlimit na socseti ne otkluchit 504316 conflict, rasshiritel
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-504316
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-two
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_bezlimit_na_socseti_rasshiritel_two      #логика выше

  - rule: megasily net bezlimit na socseti ne otkluchit 504316
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-socseti #Проверка на наличие безлимита на соцсети
      - slot_was_set:
          - connected-product-bezlimit-na-socseti: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-socseti-504316
      - slot_was_set:
          - conflicts-exists-bezlimit-na-socseti: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-socseti
      - slot_was_set:
          - list-has-slot-megasily-socseti: null
          - connected-product-bezlimit-na-socseti: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-socseti: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-socseti: null
      - action: utter_megasily_podkl_bezlimit_na_socseti_504316

  - rule: megasily ne hochet podkluchat bezlimit na socseti
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti_504316
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

#Подключение бесплатной мегасилы безлимит на соцсети 504316
  - rule: megasily podkluchenie bezlimit na socseti 504316 chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti_504316
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti-504316  #подключение бесплатной мегасилы на соцсети 504316
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na socseti 504316 ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_socseti_504316
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_504316

  - rule: megasily podkluchenie bezlimit na socseti 504316 ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_504316
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-socseti-504316  #подключение бесплатной мегасилы на соцсети 504316
      - action: utter_megasily_result_podkl_bezlimit_na_socseti
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na socseti 504316 net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_socseti_504316
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question 

#Выбрал безлимит на видеосвязь
#Безлимит на видеосвязь подключен подключен, хочет отключить
  - rule: megasily bezlimit na videosvyaz otkluchit
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
      - action: action_subscriber-products_connected-product-bezlimit-na-videosvyaz #Проверка на наличие безлимита на видеосвязь
      - slot_was_set:
          - connected-product-bezlimit-na-videosvyaz: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-videosvyaz
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-videosvyaz: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_otkl_bezlimit_na_videosvyaz

  - rule: megasily bezlimit na videosvyaz peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_videosvyaz
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily bezlimit na videosvyaz otkluchit chat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_videosvyaz
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily bezlimit na videosvyaz otkluchit ivr
    steps:
      - action: utter_megasily_otkl_bezlimit_na_videosvyaz
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl #дальше общая часть для всех отключений

#Безлимит на видеосвязь подключен, хочет инфо или подключить
  - rule: megasily net bezlimit na videosvyaz ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
      - action: action_subscriber-products_connected-product-bezlimit-na-videosvyaz #Проверка на наличие безлимита на видеосвязь
      - slot_was_set:
          - connected-product-bezlimit-na-videosvyaz: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-videosvyaz
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-videosvyaz: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_videosvyaz
      - action: utter_ask_question

#Безлимит на видеосвязь не подключен, хочет отключить
  - rule: megasily net bezlimit na videosvyaz otkluchit
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
      - action: action_subscriber-products_connected-product-bezlimit-na-videosvyaz #Проверка на наличие безлимита на видеосвязь
      - slot_was_set:
          - connected-product-bezlimit-na-videosvyaz: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-videosvyaz
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-videosvyaz: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Безлимит на видеосвязь не подключен, хочет подключить или инфо
  - rule: megasily net bezlimit na videosvyaz ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
      - action: action_subscriber-products_connected-product-bezlimit-na-videosvyaz #Проверка на наличие безлимита на видеосвязь
      - slot_was_set:
          - connected-product-bezlimit-na-videosvyaz: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-videosvyaz
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-videosvyaz: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_videosvyaz

  - rule: megasily ne hochet podkluchat bezlimit na videosvyaz
    steps:
      - action: utter_megasily_podkl_bezlimit_na_videosvyaz
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

#подключение платной мегасилы безлимит на видеосвязь
  - rule: megasily hochet podkluchit bezlimit na videosvyaz, platnaya megasila, est conflict
    steps:
      - action: utter_megasily_podkl_bezlimit_na_videosvyaz
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-videosvyaz-free #входит ли в список тарифов с бесплатной мегасилой на видеосвязь
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-videosvyaz
      - slot_was_set:
          - conflicts-exists-bezlimit-na-videosvyaz: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-videosvyaz-new
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie bezlimit na videosvyaz, platnaya megasila, chat, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_videosvyaz
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-videosvyaz-free #входит ли в список тарифов с бесплатной мегасилой на видеосвязь
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-videosvyaz
      - slot_was_set:
          - conflicts-exists-bezlimit-na-videosvyaz: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-videosvyaz-new
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-videosvyaz
      - action: utter_megasily_result_podkl_bezlimit_na_videosvyaz
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na videosvyaz, platnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_videosvyaz
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-videosvyaz-free #входит ли в список тарифов с бесплатной мегасилой на видеосвязь
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-videosvyaz
      - slot_was_set:
          - conflicts-exists-bezlimit-na-videosvyaz: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-videosvyaz-new
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-videosvyaz
      - action: utter_megasily_result_podkl_bezlimit_na_videosvyaz
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na videosvyaz, platnaya megasila, ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_videosvyaz
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-videosvyaz-free #входит ли в список тарифов с бесплатной мегасилой на видеосвязь
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-videosvyaz
      - slot_was_set:
          - conflicts-exists-bezlimit-na-videosvyaz: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-videosvyaz-new
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz

  - rule: megasily podkluchenie bezlimit na videosvyaz, platnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_videosvyaz
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-videosvyaz-free #входит ли в список тарифов с бесплатной мегасилой на видеосвязь
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-videosvyaz
      - slot_was_set:
          - conflicts-exists-bezlimit-na-videosvyaz: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-videosvyaz-new
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz

  - rule: megasily podkluchenie bezlimit na videosvyaz, platnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-videosvyaz
      - action: utter_megasily_result_podkl_bezlimit_na_videosvyaz
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na videosvyaz, platnaya megasila, ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz_povtor

  - rule: megasily podkl bezlimit na videosvyaz, platnaya megasila, ivr povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz_povtor
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-videosvyaz
      - action: utter_megasily_result_podkl_bezlimit_na_videosvyaz
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na videosvyaz, platnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz_povtor
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#подключение БЕСПЛАТНОЙ мегасилы безлимит на видеосвязь
  - rule: megasily hochet podkluchit bezlimit na videosvyaz, besplatnaya megasila, est conflict
    steps:
      - action: utter_megasily_podkl_bezlimit_na_videosvyaz
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-videosvyaz-free #входит ли в список тарифов с бесплатной мегасилой на видеосвязь
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: videosvyaz-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-videosvyaz-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-videosvyaz: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-videosvyaz-new
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie bezlimit na videosvyaz, besplatnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_videosvyaz
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-videosvyaz-free #входит ли в список тарифов с бесплатной мегасилой на видеосвязь
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: videosvyaz-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-videosvyaz-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-videosvyaz: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-videosvyaz-new
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-videosvyaz-free #подключение бесплатной мегасилы на видеосвязь
      - action: utter_megasily_result_podkl_bezlimit_na_videosvyaz
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na videosvyaz, besplatnaya megasila, chat, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_videosvyaz
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-videosvyaz-free #входит ли в список тарифов с бесплатной мегасилой на видеосвязь
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: videosvyaz-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-videosvyaz-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-videosvyaz: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-videosvyaz-new
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-videosvyaz-free #подключение бесплатной мегасилы на видеосвязь
      - action: utter_megasily_result_podkl_bezlimit_na_videosvyaz
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na videosvyaz, besplatnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_videosvyaz
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-videosvyaz-free #входит ли в список тарифов с бесплатной мегасилой на видеосвязь
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: videosvyaz-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-videosvyaz-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-videosvyaz: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-videosvyaz-new
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz_free

  - rule: megasily podkluchenie bezlimit na videosvyaz, besplatnaya megasila, ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_videosvyaz
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-videosvyaz-free #входит ли в список тарифов с бесплатной мегасилой на видеосвязь
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: videosvyaz-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-videosvyaz-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-videosvyaz: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-videosvyaz-new
      - slot_was_set:
          - list-has-slot-megasily-videosvyaz-free: null
          - conflicts-exists-bezlimit-na-videosvyaz: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz_free

  - rule: megasily podkluchenie bezlimit na videosvyaz, besplatnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-videosvyaz-free #подключение бесплатной мегасилы на видеосвязь
      - action: utter_megasily_result_podkl_bezlimit_na_videosvyaz
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na videosvyaz, besplatnaya megasila, ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz_povtor_free

  - rule: megasily podkl bezlimit na videosvyaz, besplatnaya megasila, ivr povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz_povtor_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-videosvyaz-free #подключение бесплатной мегасилы на видеосвязь
      - action: utter_megasily_result_podkl_bezlimit_na_videosvyaz
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na videosvyaz, besplatnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_videosvyaz_povtor_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question


#Выбрал безлимит на мессенджеры
#Безлимит на мессенджеры подключен, хочет отключить
  - rule: megasily bezlimit na messengery otkluchit
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_subscriber-products_connected-product-bezlimit-na-messengery #Проверка на наличие безлимита на мессенджеры
      - slot_was_set:
          - connected-product-bezlimit-na-messengery: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-messengery
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-messengery: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-messengery: null
          - OPERATION: null
      - action: utter_megasily_otkl_bezlimit_na_messengery

  - rule: megasily bezlimit na messengery peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_messengery
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily bezlimit na messengery otkluchit chat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_messengery
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily bezlimit na messengery otkluchit ivr
    steps:
      - action: utter_megasily_otkl_bezlimit_na_messengery
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl #дальше общая часть для всех отключений

#Безлимит на мессенджеры подключен, хочет инфо или подключить
  - rule: megasily net bezlimit na messengery ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_subscriber-products_connected-product-bezlimit-na-messengery #Проверка на наличие безлимита на мессенджеры
      - slot_was_set:
          - connected-product-bezlimit-na-messengery: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-messengery
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-messengery: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-messengery: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_messengery
      - action: utter_ask_question

#Безлимит на мессенджеры не подключен, хочет отключить
  - rule: megasily net bezlimit na messengery otkluchit
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_subscriber-products_connected-product-bezlimit-na-messengery #Проверка на наличие безлимита на мессенджеры
      - slot_was_set:
          - connected-product-bezlimit-na-messengery: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-messengery
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-messengery: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-messengery: null
          - OPERATION: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Безлимит на мессенджеры не подключен, хочет подключить или инфо
  - rule: megasily net bezlimit na messengery ne otkluchit, net konfl bespl
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_subscriber-products_connected-product-bezlimit-na-messengery #Проверка на наличие безлимита на мессенджеры
      - slot_was_set:
          - connected-product-bezlimit-na-messengery: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: False    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-messengery
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-messengery: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-messengery: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_messengery

  - rule: megasily ne hochet podkluchat bezlimit na messengery
    steps:
      - action: utter_megasily_podkl_bezlimit_na_messengery
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

#подключение мегасилы безлимит на мессенджеры
  - rule: megasily hochet podkluchit bezlimit na messengery, besplatnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_messengery
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-messengery-free #подключение бесплатной мегасилы на мессенджеры
      - action: utter_megasily_result_podkl_bezlimit_na_messengery
      - action: utter_ask_question

  - rule: megasily hochet podkluchit bezlimit na messengery, besplatnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_messengery
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_messengery_free

  - rule: megasily podkluchenie bezlimit na messengery, besplatnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_messengery_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-messengery-free #подключение бесплатной мегасилы на мессенджеры
      - action: utter_megasily_result_podkl_bezlimit_na_messengery
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na messengery, besplatnaya megasila, ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_messengery_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

  - rule: megasily net bezlimit na messengery ne otkluchit, konfl bespl null
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_subscriber-products_connected-product-bezlimit-na-messengery #Проверка на наличие безлимита на мессенджеры
      - slot_was_set:
          - connected-product-bezlimit-na-messengery: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-messengery
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-messengery: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-messengery: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_messengery_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

  - rule: megasily net bezlimit na messengery ne otkluchit, konfl bespl i platnoj
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_subscriber-products_connected-product-bezlimit-na-messengery #Проверка на наличие безлимита на мессенджеры
      - slot_was_set:
          - connected-product-bezlimit-na-messengery: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery #конфликт подключения платной мегасилы
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: True
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-messengery
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-messengery: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-messengery: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_messengery_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

  - rule: megasily net bezlimit na messengery ne otkluchit, konfl bespl, konfl platn null
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_subscriber-products_connected-product-bezlimit-na-messengery #Проверка на наличие безлимита на мессенджеры
      - slot_was_set:
          - connected-product-bezlimit-na-messengery: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery #конфликт подключения платной мегасилы
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: null    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-messengery
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-messengery: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-messengery: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_messengery_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#подключение ПЛАТНОЙ мегасилы безлимит на мессенджеры
  - rule: megasily net bezlimit na messengery ne otkluchit, konfl bespl i platnoj
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_subscriber-products_connected-product-bezlimit-na-messengery #Проверка на наличие безлимита на мессенджеры
      - slot_was_set:
          - connected-product-bezlimit-na-messengery: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery #конфликт подключения платной мегасилы
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: False    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-messengery
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-messengery: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-messengery: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_messengery_rasshiritel

  - rule: megasily ne hochet podkluchat bezlimit na messengery
    steps:
      - action: utter_megasily_bezlimit_na_messengery_rasshiritel
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na messengery, platnaya megasila, chat
    steps:
      - action: utter_megasily_bezlimit_na_messengery_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-messengery #подключение платной мегасилы на мессенджеры
      - action: utter_megasily_result_podkl_bezlimit_na_messengery
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na messengery, platnaya megasila,ivr
    steps:
      - action: utter_megasily_bezlimit_na_messengery_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_messengery

  - rule: megasily podkluchenie bezlimit na messengery, platnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_messengery
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-messengery #подключение платной мегасилы на мессенджеры
      - action: utter_megasily_result_podkl_bezlimit_na_messengery
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na messengery, besplatnaya megasila, ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_messengery
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#подключение мегаислы безлимит на мессенджеры для 3.2
  - rule: megasily net bezlimit na messengery ne otkluchit, 504315 conflict, rasshiritel kofl
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_subscriber-products_connected-product-bezlimit-na-messengery #Проверка на наличие безлимита на мессенджеры
      - slot_was_set:
          - connected-product-bezlimit-na-messengery: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery-504315
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: True
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-messengery
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-messengery: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-messengery: null
          - OPERATION: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily net bezlimit na messengery ne otkluchit, 504315 conflict, rasshiritel
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_subscriber-products_connected-product-bezlimit-na-messengery #Проверка на наличие безлимита на мессенджеры
      - slot_was_set:
          - connected-product-bezlimit-na-messengery: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery-504315
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-messengery
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-messengery: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-messengery: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_messengery_rasshiritel             #логика выше

  - rule: megasily net bezlimit na messengery ne otkluchit, 504315 conflict null
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_subscriber-products_connected-product-bezlimit-na-messengery #Проверка на наличие безлимита на мессенджеры
      - slot_was_set:
          - connected-product-bezlimit-na-messengery: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery-504315
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-messengery
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-messengery: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-messengery: null
          - OPERATION: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily net bezlimit na messengery ne otkluchit, konfl bespl i platnoj
    steps:
      - action: utter_condition_megasily_dlya_obcsheniya
      - intent: '2'
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_subscriber-products_connected-product-bezlimit-na-messengery #Проверка на наличие безлимита на мессенджеры
      - slot_was_set:
          - connected-product-bezlimit-na-messengery: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-messengery-504315
      - slot_was_set:
          - conflicts-exists-bezlimit-na-messengery: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-messengery
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
          - connected-product-bezlimit-na-messengery: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-messengery: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_messengery_504315

  - rule: megasily ne hochet podkluchat bezlimit na messengery
    steps:
      - action: utter_megasily_podkl_bezlimit_na_messengery_504315
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na messengery, platnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_messengery_504315
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-messengery-504315     #подключение бесплатной мегасилы на мессенджеры 504315 для 3.2
      - action: utter_megasily_result_podkl_bezlimit_na_messengery
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na messengery, platnaya megasila,ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_messengery_504315
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_messengery_504315

  - rule: megasily podkluchenie bezlimit na messengery, platnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_messengery_504315
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-messengery-504315     #подключение бесплатной мегасилы на мессенджеры 504315 для 3.2
      - action: utter_megasily_result_podkl_bezlimit_na_messengery
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na messengery, besplatnaya megasila, ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_messengery_504315
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Выбрал Мегасилы для видео
  - rule: megasily dlya video
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '2'
      - action: action_technical-actions_list-has-slot-new-tariffs                          #проверка на тарифы 3.2
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_technical-actions_list-has-slot-megasily-tarif-bez-rasshiritelya #для разметки utter'a
      - action: utter_condition_megasily_dlya_video
      #даем выбор 2 мегасил с ценой, для тарифов с расширителями без цен

  - rule: megasily dlya video
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '2'
      - action: action_technical-actions_list-has-slot-new-tariffs                          #проверка на тарифы 3.2 4
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: utter_condition_megasily_dlya_video_3_2     #даем выбор 2 мегасил безлимит на видео и безлимит на музыку и кинотеатры

#Выбрал Безлимит на youtube
#Безлимит на youtube подключен, хочет отключить
  - rule: megasily bezlimit na youtube otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_otkl_bezlimit_na_youtube

  - rule: megasily bezlimit na youtube peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_youtube
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily bezlimit na youtube otkluchit chat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_youtube
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily bezlimit na youtube otkluchit ivr
    steps:
      - action: utter_megasily_otkl_bezlimit_na_youtube
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl #дальше общая часть для всех отключений

#Безлимит на youtube подключен, хочет инфо или подключить
  - rule: megasily net bezlimit na youtube ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_youtube
      - action: utter_ask_question

#Безлимит на youtube не подключен, хочет отключить
  - rule: megasily net bezlimit na youtube otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Безлимит на youtube не подключен, хочет подключить или инфо, тариф с расширителем, бесплатная МС
  - rule: megasily net bezlimit na youtube ne otkluchit, tarif s rasshiritelem, net konfl podkl bespl
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: False    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_youtube_bespl

  - rule: megasily ne hochet podkluchat bezlimit na youtube, tarif s rasshiritelem, net konfl podkl bespl
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube_bespl
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, tarif s rasshiritelem, net konfl podkl bespl, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube_bespl
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube-free #подключение бесплатной мегасилы на видео
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, tarif s rasshiritelem, net konfl podkl bespl, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube_bespl
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_free

#Безлимит на youtube не подключен, хочет подключить или инфо, тариф с расширителем, конфликт подключения бесплатной null
  - rule: megasily net bezlimit na youtube ne otkluchit, tarif s rasshiritelem, konfl podkl bespl null
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_dlya_video_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на youtube не подключен, хочет подключить или инфо, тариф с расширителем, конфликт подключения бесплатной есть, мс 503770
  - rule: megasily net bezlimit na youtube ne otkluchit, tarif s rasshiritelem, konfl podkl bespl i platnoj
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free #конфликт подключения бесплатной
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-503770
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_dlya_video_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на youtube не подключен, хочет подключить или инфо, тариф с расширителем, конфликт подключения бесплатной есть, мс 503770
  - rule: megasily net bezlimit na youtube ne otkluchit, tarif s rasshiritelem, konfl podkl bespl i platnoj
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free #конфликт подключения бесплатной
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-503770
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: False
      - action: utter_megasily_podkl_bezlimit_na_youtube_503770

  - rule: megasily ne hochet podkluchat bezlimit na youtube, tarif s rasshiritelem, net konfl podkl bespl
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube_503770
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, tarif s rasshiritelem, net konfl podkl bespl, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube_503770
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube-503770 #подключение платной мегасилы на видео
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, tarif s rasshiritelem, net konfl podkl bespl, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube_503770
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_503770

  - rule: megasily podkluchenie bezlimit na youtube ivr, besplatnaya megasila, podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_503770
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube-503770
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube ivr, besplatnaya megasila, ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_503770
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_povtor_503770

  - rule: megasily podkl bezlimit na youtube ivr, besplatnaya megasila, povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_povtor_503770
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube-503770
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na youtube, besplatnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_povtor_503770
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question 

#Безлимит на youtube не подключен, хочет подключить или инфо, тариф с расширителем, конфликт подключения бесплатной есть, есть конфл подкл платной
  - rule: megasily net bezlimit na youtube ne otkluchit, tarif s rasshiritelem, konfl podkl bespl i platnoj
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free #конфликт подключения бесплатной
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-503770
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-youtube
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-youtube: 501099
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube #конфликт подключения платной
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_dlya_video_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на youtube не подключен, хочет подключить или инфо, тариф с расширителем, конфликт подключения бесплатной есть, конфл подкл платной null
  - rule: megasily net bezlimit na youtube ne otkluchit, tarif s rasshiritelem, konfl podkl bespl, konf podkl platn null
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free #конфликт подключения бесплатной
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-503770
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-youtube
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-youtube: 501099
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube #конфликт подключения платной
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: null    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_dlya_video_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на youtube не подключен, хочет подключить или инфо, тариф с расширителем, конфликт подключения бесплатной есть, нет конфл подкл платной
  - rule: megasily net bezlimit na youtube ne otkluchit, tarif s rasshiritelem, konfl podkl bespl, net konf podkl platn
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free #конфликт подключения бесплатной
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-503770
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-youtube
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-youtube: 501099
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube #конфликт подключения платной
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: False    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_youtube_rasshiritel

  - rule: megasily ne hochet podkluchat bezlimit na youtube, rasshiritel
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube_rasshiritel
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, rasshiritel, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, rasshiritel, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube


#Безлимит на youtube не подключен, хочет подключить или инфо, тариф с расширителем, конфликт подключения бесплатной есть, есть конфл подкл платной
  - rule: megasily net bezlimit na youtube ne otkluchit, tarif s rasshiritelem, konfl podkl bespl i platnoj 502498
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free #конфликт подключения бесплатной
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-503770
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-youtube
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-youtube: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-two #конфликт подключения платной 502498
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_dlya_video_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на youtube не подключен, хочет подключить или инфо, тариф с расширителем, конфликт подключения бесплатной есть, конфл подкл платной null
  - rule: megasily net bezlimit na youtube ne otkluchit, tarif s rasshiritelem, konfl podkl bespl, konf podkl platn null 502498
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free #конфликт подключения бесплатной
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-503770
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-youtube
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-youtube: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-two #конфликт подключения платной 502498
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: null    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_dlya_video_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на youtube не подключен, хочет подключить или инфо, тариф с расширителем, конфликт подключения бесплатной есть, нет конфл подкл платной
  - rule: megasily net bezlimit na youtube ne otkluchit, tarif s rasshiritelem, konfl podkl bespl, net konf podkl platn 502498
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free #конфликт подключения бесплатной
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-503770
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-youtube
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-youtube: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-two #конфликт подключения платной 502498
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: False    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_youtube_rasshiritel_two

  - rule: megasily ne hochet podkluchat bezlimit na youtube, rasshiritel 502498
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube_rasshiritel_two
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, rasshiritel, chat 502498
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube_rasshiritel_two
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube-two
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, rasshiritel, ivr 502498
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube_rasshiritel_two
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_two

  - rule: megasily podkluchenie bezlimit na youtube, platnaya megasila, ivr podtverdil 502498
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_two
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube-two
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na youtube, platnaya megasila, net otveta 502498
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_two
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question 


#Безлимит на youtube не подключен, хочет подключить или инфо, тариф без расширителей
  - rule: megasily net bezlimit na youtube ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_youtube

  - rule: megasily ne hochet podkluchat bezlimit na youtube
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

#подключение платной мегасилы на безлимит видеосервисов
  - rule: megasily hochet podkluchit bezlimit na youtube, platnaya megasila, est conflict
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-youtube-free #входит ли в список тарифов с бесплатной мегасилой на видеосервисы
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-youtube-new
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
          - conflicts-exists-bezlimit-na-youtube: null
          - is-slot-in-list-channel-ivr: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie bezlimit na youtube, platnaya megasila, chat, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-youtube-free #входит ли в список тарифов с бесплатной мегасилой на видеосервисы
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-youtube-new
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
          - conflicts-exists-bezlimit-na-youtube: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, platnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-youtube-free #входит ли в список тарифов с бесплатной мегасилой на видеосервисы
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-youtube-new
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
          - conflicts-exists-bezlimit-na-youtube: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, platnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-youtube-free #входит ли в список тарифов с бесплатной мегасилой на видеосервисы
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-youtube-new
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
          - conflicts-exists-bezlimit-na-youtube: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube

  - rule: megasily podkluchenie bezlimit na youtube, platnaya megasila, ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-youtube-free #входит ли в список тарифов с бесплатной мегасилой на видеосервисы
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-youtube-new
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
          - conflicts-exists-bezlimit-na-youtube: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube

  - rule: megasily podkluchenie bezlimit na youtube, platnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, platnaya megasila, ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_povtor

  - rule: megasily podkl bezlimit na youtube, platnaya megasila, ivr povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_povtor
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na youtube, platnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_povtor
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question 


#подключение БЕСПЛАТНОЙ мегасилы на безлимит видеосервисов
  - rule: megasily hochet podkluchit bezlimit na youtube, besplatnaya megasila, est conflict
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-youtube-free #входит ли в список тарифов с бесплатной мегасилой на видеосервисы
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: youtube-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-youtube-new
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
          - conflicts-exists-bezlimit-na-youtube: null
          - is-slot-in-list-channel-ivr: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie bezlimit na youtube, besplatnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-youtube-free #входит ли в список тарифов с бесплатной мегасилой на видеосервисы
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: youtube-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-youtube-new
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
          - conflicts-exists-bezlimit-na-youtube: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube-free #подключение бесплатной мегасилы на видео
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, besplatnaya megasila, chat, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-youtube-free #входит ли в список тарифов с бесплатной мегасилой на видеосервисы
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: youtube-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-youtube-new
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
          - conflicts-exists-bezlimit-na-youtube: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube-free #подключение бесплатной мегасилы на видео
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, besplatnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-youtube-free #входит ли в список тарифов с бесплатной мегасилой на видеосервисы
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: youtube-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-youtube-new
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
          - conflicts-exists-bezlimit-na-youtube: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_free

  - rule: megasily podkluchenie bezlimit na youtube, besplatnaya megasila, ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_youtube
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-youtube-free #входит ли в список тарифов с бесплатной мегасилой на видеосервисы
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: youtube-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-youtube-new
      - slot_was_set:
          - list-has-slot-megasily-youtube-free: null
          - conflicts-exists-bezlimit-na-youtube: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_free

  - rule: megasily podkluchenie bezlimit na youtube ivr, besplatnaya megasila, podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube-free
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube ivr, besplatnaya megasila, ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_povtor_free

  - rule: megasily podkl bezlimit na youtube ivr, besplatnaya megasila, povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_povtor_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-youtube-free
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na youtube, besplatnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_youtube_povtor_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question 

#Безлимит на видео не подключен, хочет подключить или инфо, тарифы 3.2
#Безлимит на youtube подключен, хочет отключить
  - rule: megasily bezlimit na youtube otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_otkl_bezlimit_na_youtube  #продолжение есть выше

#Безлимит на youtube подключен, хочет инфо или подключить
  - rule: megasily net bezlimit na youtube ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_youtube
      - action: utter_ask_question

#Безлимит на youtube не подключен, хочет отключить
  - rule: megasily net bezlimit na youtube otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

  - rule: megasily net bezlimit na youtube ne otkluchit, tarif 3.2, rasshiritel, konfl
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-video-504350
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-video-504620
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-two
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily net bezlimit na youtube ne otkluchit, tarif 3.2, rasshiritel
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-video-504350
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-video-504620
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-youtube-two
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_youtube_rasshiritel_two                #подключение выше

  - rule: megasily net bezlimit na youtube ne otkluchit, tarif 3.2
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-video-504350
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-video-504620
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_video_504620

  - rule: megasily ne hochet podkluchat bezlimit na youtube, 504620
    steps:
      - action: utter_megasily_podkl_bezlimit_na_video_504620
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, chat 504620
    steps:
      - action: utter_megasily_podkl_bezlimit_na_video_504620
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-video-504620
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, ivr 504620
    steps:
      - action: utter_megasily_podkl_bezlimit_na_video_504620
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_video_504620

  - rule: megasily podkluchenie bezlimit na youtube, ivr podtverdil 504620
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_video_504620
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-video-504620
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na youtube, net otveta 504620
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_video_504620
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question 

  - rule: megasily net bezlimit na youtube ne otkluchit, tarif 3.2
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-youtube #Проверка на наличие безлимита на youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-video-504350
      - slot_was_set:
          - conflicts-exists-bezlimit-na-youtube: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-youtube
      - slot_was_set:
          - connected-product-bezlimit-na-youtube: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-youtube: null
          - rasshiritel-id-bezlimit-na-youtube: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_video_504350

  - rule: megasily ne hochet podkluchat bezlimit na youtube, 504350
    steps:
      - action: utter_megasily_podkl_bezlimit_na_video_504350
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, chat 504350
    steps:
      - action: utter_megasily_podkl_bezlimit_na_video_504350
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-video-504350
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na youtube, ivr 504350
    steps:
      - action: utter_megasily_podkl_bezlimit_na_video_504350
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_video_504350

  - rule: megasily podkluchenie bezlimit na youtube, ivr podtverdil 504350
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_video_504350
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-video-504350
      - action: utter_megasily_result_podkl_bezlimit_na_youtube
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na youtube, net otveta 504350
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_video_504350
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question 

#Выбрал безлимит на кино
#Безлимит на кино подключен подключен, хочет отключить
  - rule: megasily bezlimit na kino otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-kino: null
          - conflicts-exists-bezlimit-na-kino: null
          - OPERATION: null
      - action: utter_megasily_otkl_bezlimit_na_kino

  - rule: megasily bezlimit na kino peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_kino
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily bezlimit na kino otkluchit chat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_kino
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily bezlimit na kino otkluchit ivr
    steps:
      - action: utter_megasily_otkl_bezlimit_na_kino
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl #дальше общая часть для всех отключений

#Безлимит на кино подключен, хочет инфо или подключить
  - rule: megasily net bezlimit na kino ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-kino: null
          - conflicts-exists-bezlimit-na-kino: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_kino
      - action: utter_ask_question

#Безлимит на кино не подключен, хочет отключить
  - rule: megasily net bezlimit na kino otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-kino: null
          - conflicts-exists-bezlimit-na-kino: null
          - OPERATION: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Безлимит на кино не подключен, хочет подключить или инфо, тариф c расширителем, нет конфликта подкл беспл
  - rule: megasily net bezlimit na kino ne otkluchit, tarif s rasshitelem, bespl opciya
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: False    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-kino: null
          - conflicts-exists-bezlimit-na-kino: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_kino_bespl

  - rule: megasily ne hochet podkluchat bezlimit na kino, tarif s rasshitelem
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_bespl
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, besplatnaya megasila, tarif s rasshitelem, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_bespl
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino-free #подключение бесплатной мегасилы безлимит на кино
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, besplatnaya megasila, tarif s rasshitelem, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_bespl
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_free

#Безлимит на кино не подключен, хочет подключить или инфо, тариф c расширителем, конфликт подкл беспл null
  - rule: megasily net bezlimit na kino ne otkluchit, tarif s rasshitelem, konfl bespl null
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: null    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-kino: null
          - conflicts-exists-bezlimit-na-kino: null
          - OPERATION: null
      - action: utter_megasily_dlya_na_kino_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на кино не подключен, хочет подключить или инфо, тариф c расширителем, конфликт подкл беспл null
  - rule: megasily net bezlimit na kino ne otkluchit, tarif s rasshitelem, konfl bespl est', konfl platn null
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-503771
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-kino: null
          - conflicts-exists-bezlimit-na-kino: null
          - OPERATION: null
      - action: utter_megasily_dlya_na_kino_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на кино не подключен, хочет подключить или инфо, тариф c расширителем
  - rule: megasily net bezlimit na kino ne otkluchit, tarif s rasshitelem
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-503771
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: False
      - action: utter_megasily_podkl_bezlimit_na_kino_503771

  - rule: megasily ne hochet podkluchat bezlimit na kino, tarif s rasshitelem
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_503771
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, besplatnaya megasila, tarif s rasshitelem, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_503771
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino-503771 #подключение платной мегасилы безлимит на кино
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, besplatnaya megasila, tarif s rasshitelem, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_503771
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_503771

  - rule: megasily podkluchenie bezlimit na kino, besplatnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_503771
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino-503771 #подключение бесплатной мегасилы безлимит на кино
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, besplatnaya megasila, ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_503771
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_povtor_503771

  - rule: megasily podkl bezlimit na kino, besplatnaya megasila, ivr povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_povtor_503771
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino-503771 #подключение платной мегасилы безлимит на кино
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na kino, besplatnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_povtor_503771
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Безлимит на кино не подключен, хочет подключить или инфо, тариф c расширителем, конфликт подкл беспл null
  - rule: megasily net bezlimit na kino ne otkluchit, tarif s rasshitelem, konfl bespl est', konfl platn null
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-503771
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-kino
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-kino: 501095
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: null    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-kino: null
          - conflicts-exists-bezlimit-na-kino: null
          - OPERATION: null
      - action: utter_megasily_dlya_na_kino_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на кино не подключен, хочет подключить или инфо, тариф c расширителем, конфликт подкл беспл null
  - rule: megasily net bezlimit na kino ne otkluchit, tarif s rasshitelem, konfl bespl i platn
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-503771
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-kino
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-kino: 501095
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-kino: null
          - conflicts-exists-bezlimit-na-kino: null
          - OPERATION: null
      - action: utter_megasily_dlya_na_kino_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на кино не подключен, хочет подключить или инфо, тариф c расширителем, конфликт подкл беспл null
  - rule: megasily net bezlimit na kino ne otkluchit, tarif s rasshitelem, konfl bespl i platn
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-503771
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-kino
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-kino: 501095
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: False    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-kino: null
          - conflicts-exists-bezlimit-na-kino: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_kino_rasshiritel

  - rule: megasily ne hochet podkluchat bezlimit na kino, tarif s rasshitelem
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_rasshiritel
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, platnaya megasila, tarif s rasshitelem, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino #подключение платной мегасилы безлимит на кино
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, platnaya megasila, tarif s rasshitelem, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino

#Безлимит на кино не подключен, хочет подключить или инфо, тариф c расширителем, конфликт подкл беспл null 502499
  - rule: megasily net bezlimit na kino ne otkluchit, tarif s rasshitelem, konfl bespl est', konfl platn null 502499
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-503771
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-kino
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-kino: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-two
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: null    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-kino: null
          - conflicts-exists-bezlimit-na-kino: null
          - OPERATION: null
      - action: utter_megasily_dlya_na_kino_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на кино не подключен, хочет подключить или инфо, тариф c расширителем, конфликт подкл беспл null 502499
  - rule: megasily net bezlimit na kino ne otkluchit, tarif s rasshitelem, konfl bespl i platn 502499
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-503771
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-kino
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-kino: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-two
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-kino: null
          - conflicts-exists-bezlimit-na-kino: null
          - OPERATION: null
      - action: utter_megasily_dlya_na_kino_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на кино не подключен, хочет подключить или инфо, тариф c расширителем, конфликт подкл беспл null 502499
  - rule: megasily net bezlimit na kino ne otkluchit, tarif s rasshitelem, konfl bespl i platn 502499
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-503771
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-kino
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-kino: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-two
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: False    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-kino: null
          - conflicts-exists-bezlimit-na-kino: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_kino_rasshiritel_two

  - rule: megasily ne hochet podkluchat bezlimit na kino, tarif s rasshitelem 502499
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_rasshiritel_two
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, platnaya megasila, tarif s rasshitelem, chat 502499
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_rasshiritel_two
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino-two #подключение платной мегасилы безлимит на кино 502499
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, platnaya megasila, tarif s rasshitelem, ivr 502499
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_rasshiritel_two
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_two

  - rule: megasily podkluchenie bezlimit na kino, platnaya megasila, ivr podtverdil 502499
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_two
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino-two
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na kino, platnaya megasila, net otveta 502499 (part 1)
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_two
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na kino, platnaya megasila, net otveta 502499 (part 2)
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_two
      - or:
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Безлимит на кино не подключен, хочет подключить или инфо, тариф без расширителей
  - rule: megasily net bezlimit na kino ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - rasshiritel-id-bezlimit-na-kino: null
          - conflicts-exists-bezlimit-na-kino: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_kino

  - rule: megasily ne hochet podkluchat bezlimit na kino
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

#подключение платной мегасилы на безлимит кино
  - rule: megasily hochet podkluchit bezlimit na kino, platnaya megasila, est conflict
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-kino-free #входит ли в список тарифов с бесплатной мегасилой на кино
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-kino-new
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
          - conflicts-exists-bezlimit-na-kino: null
          - is-slot-in-list-channel-ivr: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie bezlimit na kino, platnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-kino-free #входит ли в список тарифов с бесплатной мегасилой на кино
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-kino-new
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
          - conflicts-exists-bezlimit-na-kino: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino #подключение платной мегасилы безлимит на кино
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, platnaya megasila, chat, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-kino-free #входит ли в список тарифов с бесплатной мегасилой на кино
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-kino-new
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
          - conflicts-exists-bezlimit-na-kino: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino #подключение платной мегасилы безлимит на кино
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, platnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-kino-free #входит ли в список тарифов с бесплатной мегасилой на кино
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-kino-new
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
          - conflicts-exists-bezlimit-na-kino: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino

  - rule: megasily podkluchenie bezlimit na kino, platnaya megasila, ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-kino-free #входит ли в список тарифов с бесплатной мегасилой на кино
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-kino-new
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
          - conflicts-exists-bezlimit-na-kino: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino

  - rule: megasily podkluchenie bezlimit na kino, platnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, platnaya megasila, ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_povtor

  - rule: megasily podkl bezlimit na kino, platnaya megasila, ivr povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_povtor
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na kino, platnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_povtor
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#подключение БЕСПЛАТНОЙ мегасилы на безлимит кино
  - rule: megasily hochet podkluchit bezlimit na kino, besplatnaya megasila, est conflict
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-kino-free #входит ли в список тарифов с бесплатной мегасилой на кино
      - slot_was_set:
          - list-has-slot-megasily-kino-free: kino-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-kino-new
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
          - conflicts-exists-bezlimit-na-kino: null
          - is-slot-in-list-channel-ivr: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie bezlimit na kino, besplatnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-kino-free #входит ли в список тарифов с бесплатной мегасилой на кино
      - slot_was_set:
          - list-has-slot-megasily-kino-free: kino-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-kino-new
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
          - conflicts-exists-bezlimit-na-kino: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino-free #подключение бесплатной мегасилы безлимит на кино
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, besplatnaya megasila, chat, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-kino-free #входит ли в список тарифов с бесплатной мегасилой на кино
      - slot_was_set:
          - list-has-slot-megasily-kino-free: kino-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-kino-new
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
          - conflicts-exists-bezlimit-na-kino: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino-free #подключение бесплатной мегасилы безлимит на кино
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, besplatnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-kino-free #входит ли в список тарифов с бесплатной мегасилой на кино
      - slot_was_set:
          - list-has-slot-megasily-kino-free: kino-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-kino-new
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
          - conflicts-exists-bezlimit-na-kino: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_free

  - rule: megasily podkluchenie bezlimit na kino, besplatnaya megasila, ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-kino-free #входит ли в список тарифов с бесплатной мегасилой на кино
      - slot_was_set:
          - list-has-slot-megasily-kino-free: kino-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-kino: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-kino-new
      - slot_was_set:
          - list-has-slot-megasily-kino-free: null
          - conflicts-exists-bezlimit-na-kino: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_free

  - rule: megasily podkluchenie bezlimit na kino, besplatnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino-free #подключение бесплатной мегасилы безлимит на кино
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na kino, besplatnaya megasila, ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_povtor_free

  - rule: megasily podkl bezlimit na kino, besplatnaya megasila, ivr povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_povtor_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-kino-free #подключение бесплатной мегасилы безлимит на кино
      - action: utter_megasily_result_podkl_bezlimit_na_kino
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na kino, besplatnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_kino_povtor_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Безлимит на музыку и кинотеатры для 3.2
#Безлимит на музыку и кино подключен подключен, хочет отключить
  - rule: megasily bezlimit na muzyku i kino otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino           #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-muzyku-i-kino: null
          - OPERATION: null
      - action: utter_megasily_otkl_bezlimit_na_muzyku_i_kino

  - rule: megasily bezlimit na muzyku i kino peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_muzyku_i_kino
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily bezlimit na muzyku i kino otkluchit chat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_muzyku_i_kino
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily bezlimit na muzyku i kino otkluchit ivr
    steps:
      - action: utter_megasily_otkl_bezlimit_na_muzyku_i_kino
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl #дальше общая часть для всех отключений

#Безлимит на музыку и кино подключен, хочет инфо или подключить
  - rule: megasily net bezlimit na muzyku i kino ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-muzyku-i-kino: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_muzyku_i_kino
      - action: utter_ask_question

#Безлимит на музыку и кино не подключен, хочет отключить
  - rule: megasily net bezlimit na muzyku i kino otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-muzyku-i-kino: null
          - OPERATION: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Безлимит на музыку и кино не подключен, хочет подключить или инфо, нет конфликта подкл беспл
  - rule: megasily net bezlimit na muzyku i kino ne otkluchit, bespl opciya
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-muzyku-i-kino: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_kino_i_muzyku_free

  - rule: megasily ne hochet podkluchat bezlimit na muzyku i kino
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_i_muzyku_free
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyku i kino, besplatnaya megasila,  chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_i_muzyku_free
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyku-i-kino-free
      - action: utter_megasily_result_podkl_bezlimit_na_muzyku_i_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyku i kino, besplatnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_kino_i_muzyku_free
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyku_i_kino_free

  - rule: megasily podkl bezlimit na muzyku i kino, besplatnaya megasila, ivr
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyku_i_kino_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyku-i-kino-free
      - action: utter_megasily_result_podkl_bezlimit_na_muzyku_i_kino
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na muzyku i kino, besplatnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyku_i_kino_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Безлимит на музыку и кино не подключен, хочет подключить или инфо
  - rule: megasily net bezlimit na muzyku i kino ne otkluchit, tarif s rasshitelem
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-muzyku-i-kino: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_muzyku_i_kino

  - rule: megasily ne hochet podkluchat bezlimit na muzyku i kino
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyku_i_kino
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyku i kino, platnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyku_i_kino
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyku-i-kino #подключение платной мегасилы безлимит на муззыку и кино
      - action: utter_megasily_result_podkl_bezlimit_na_muzyku_i_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyku i kino, platnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyku_i_kino
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_na_muzyku_i_kino

  - rule: megasily podkl bezlimit na muzyku i kino, platnaya megasila, ivr
    steps:
      - action: utter_megasily_push_one_podkl_na_muzyku_i_kino
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyku-i-kino #подключение платной мегасилы безлимит на муззыку и кино
      - action: utter_megasily_result_podkl_bezlimit_na_muzyku_i_kino
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na muzyku i kino, platnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_na_muzyku_i_kino
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Безлимит на музыку и кино не подключен, хочет подключить или инфо, расширитель
  - rule: megasily net bezlimit na muzyku i kino ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino-rasshiritel
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-muzyku-i-kino: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_muzyku_i_kino_rasshiritel

  - rule: megasily ne hochet podkluchat bezlimit na muzyku i kino
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyku_i_kino_rasshiritel
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyku i kino, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyku_i_kino_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyku-i-kino-rasshiritel
      - action: utter_megasily_result_podkl_bezlimit_na_muzyku_i_kino
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyku i kino, rasshiritel ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyku_i_kino_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_na_muzyku_i_kino_rasshiritel

  - rule: megasily podkl bezlimit na muzyku i kino, ivr povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_na_muzyku_i_kino_rasshiritel
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyku-i-kino-rasshiritel
      - action: utter_megasily_result_podkl_bezlimit_na_muzyku_i_kino
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na muzyku i kino,  net otveta
    steps:
      - action: utter_megasily_push_one_podkl_na_muzyku_i_kino_rasshiritel
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

  - rule: megasily net bezlimit na muzyku i kino ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_video_3_2
      - intent: '2'
      - action: action_subscriber-products_connected-product-bezlimit-na-kino #Проверка на наличие безлимита на кино
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino-rasshiritel
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: True
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-muzyku-i-kino: null
          - OPERATION: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

#Выбрал безлимит на музыку
#Безлимит на музыку подключен подключен, хочет отключить
  - rule: megasily bezlimit na muzyiku otkluchit
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyiku
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - rasshiritel-id-bezlimit-na-muzyiku: null
          - OPERATION: null
      - action: utter_megasily_otkl_bezlimit_na_muzyiku

  - rule: megasily bezlimit na muzyiku peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_muzyiku
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily bezlimit na muzyiku otkluchit chat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_muzyiku
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily bezlimit na muzyiku otkluchit ivr
    steps:
      - action: utter_megasily_otkl_bezlimit_na_muzyiku
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl #дальше общая часть для всех отключений

#Безлимит на музыку подключен, хочет инфо или подключить
  - rule: megasily net bezlimit na muzyiku ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyiku
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - rasshiritel-id-bezlimit-na-muzyiku: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_muzyiku
      - action: utter_ask_question

#Безлимит на музыку не подключен, хочет отключить
  - rule: megasily net bezlimit na muzyiku otkluchit
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyiku
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - rasshiritel-id-bezlimit-na-muzyiku: null
          - OPERATION: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Безлимит на музыку не подключен, хочет подключить или инфо, тариф c расширителями, нет конфликта подключения беспл
  - rule: megasily net bezlimit na muzyiku ne otkluchit, tarif s rasshiritelyami, bspl
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyiku
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - rasshiritel-id-bezlimit-na-muzyiku: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_muzyiku_bespl

  - rule: megasily ne hochet podkluchat bezlimit na muzyiku tarif s rasshiritelyami, bspl
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku_bespl
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyiku, tarif s rasshiritelyami, bspl, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku_bespl
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyiku-free #Подключение бесплатного продукта безлимит на музыку
      - action: utter_megasily_result_podkl_bezlimit_na_muzyiku
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyiku, tarif s rasshiritelyami, bspl, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku_bespl
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_free

#Безлимит на музыку не подключен, хочет подключить или инфо, тариф c расширителями, конфликт подключения беспл null
  - rule: megasily net bezlimit na muzyiku ne otkluchit, tarif s rasshiritelyami, konfl bspl null
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyiku
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - rasshiritel-id-bezlimit-na-muzyiku: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_muzyiku_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на музыку не подключен, хочет подключить или инфо, тариф c расширителями, конфликт подключения беспл и платной
  - rule: megasily net bezlimit na muzyiku ne otkluchit, tarif s rasshiritelyami, konfl bspl i platnoj
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-muzyiku
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-muzyiku: 501094
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: True    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyiku
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - rasshiritel-id-bezlimit-na-muzyiku: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_muzyiku_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на музыку не подключен, хочет подключить или инфо, тариф c расширителями, конфликт подключения беспл, конфл подкл платн null
  - rule: megasily net bezlimit na muzyiku ne otkluchit, tarif s rasshiritelyami, konfl bspl, konfl platn null
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-muzyiku
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-muzyiku: 501094
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: null    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyiku
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - rasshiritel-id-bezlimit-na-muzyiku: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_muzyiku_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на музыку не подключен, хочет подключить или инфо, тариф c расширителями, конфликт подключения беспл, конфл подкл платн null
  - rule: megasily net bezlimit na muzyiku ne otkluchit, tarif s rasshiritelyami, rasshiritel
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-muzyiku
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-muzyiku: 501094
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyiku
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - rasshiritel-id-bezlimit-na-muzyiku: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_muzyiku_rasshiritel

  - rule: megasily ne hochet podkluchat bezlimit na muzyiku tarif s rasshiritelyami, rasshiritel
    steps:
      - action: utter_megasily_bezlimit_na_muzyiku_rasshiritel
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyiku, tarif s rasshiritelyami, rasshiritel, chat
    steps:
      - action: utter_megasily_bezlimit_na_muzyiku_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyiku #Подключение платного продукта безлимит на музыку
      - action: utter_megasily_result_podkl_bezlimit_na_muzyiku
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyiku, tarif s rasshiritelyami, rasshiritel, ivr
    steps:
      - action: utter_megasily_bezlimit_na_muzyiku_rasshiritel
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku

#Безлимит на музыку не подключен, хочет подключить или инфо, тариф c расширителями, конфликт подключения беспл и платной 502500
  - rule: megasily net bezlimit na muzyiku ne otkluchit, tarif s rasshiritelyami, konfl bspl i platnoj 502500
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-muzyiku
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-muzyiku: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-two
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: True    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyiku
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - rasshiritel-id-bezlimit-na-muzyiku: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_muzyiku_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на музыку не подключен, хочет подключить или инфо, тариф c расширителями, конфликт подключения беспл, конфл подкл платн null 502500
  - rule: megasily net bezlimit na muzyiku ne otkluchit, tarif s rasshiritelyami, konfl bspl, konfl platn null 502500
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-muzyiku
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-muzyiku: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-two
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: null    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyiku
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - rasshiritel-id-bezlimit-na-muzyiku: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_muzyiku_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на музыку не подключен, хочет подключить или инфо, тариф c расширителями, конфликт подключения беспл, конфл подкл платн null 502500
  - rule: megasily net bezlimit na muzyiku ne otkluchit, tarif s rasshiritelyami, rasshiritel 502500
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: True
      - action: action_technical-actions_list-has-slot-rasshiritel-id-bezlimit-na-muzyiku
      - slot_was_set:
          - rasshiritel-id-bezlimit-na-muzyiku: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-two
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyiku
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - rasshiritel-id-bezlimit-na-muzyiku: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_muzyiku_rasshiritel_two

  - rule: megasily ne hochet podkluchat bezlimit na muzyiku tarif s rasshiritelyami, rasshiritel 502500
    steps:
      - action: utter_megasily_bezlimit_na_muzyiku_rasshiritel_two
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyiku, tarif s rasshiritelyami, rasshiritel, chat 502500
    steps:
      - action: utter_megasily_bezlimit_na_muzyiku_rasshiritel_two
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyiku-two #Подключение платного продукта безлимит на музыку
      - action: utter_megasily_result_podkl_bezlimit_na_muzyiku
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyiku, tarif s rasshiritelyami, rasshiritel, ivr 502500
    steps:
      - action: utter_megasily_bezlimit_na_muzyiku_rasshiritel_two
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_two

  - rule: megasily podkluchenie bezlimit na muzyiku, platnaya megasila, ivr podtverdil 502500
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_two
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyiku-two #Подключение платного продукта безлимит на музыку
      - action: utter_megasily_result_podkl_bezlimit_na_muzyiku
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na muzyiku, platnaya megasila, net otveta 502500
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_two
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question


#Безлимит на музыку не подключен, хочет подключить или инфо, тариф c расширителями, конфликт подключения беспл null
  - rule: megasily net bezlimit na muzyiku ne otkluchit, tarif s rasshiritelyami, konfl bspl null
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: null
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyiku
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - rasshiritel-id-bezlimit-na-muzyiku: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_muzyiku_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Безлимит на музыку не подключен, хочет подключить или инфо, тариф без расширителей
  - rule: megasily net bezlimit na muzyiku ne otkluchit, tarif bez rasshiritelej
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null    
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyiku
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
          - list-has-slot-megasily-OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - rasshiritel-id-bezlimit-na-muzyiku: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_muzyiku

  - rule: megasily ne hochet podkluchat bezlimit na muzyiku
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

#Подключение платной мегасилы на безлимит музыки
  - rule: megasily hochet podkluchit bezlimit na muzyiku, platnaya megasila, est conflict
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-music-free #входит ли в список тарифов с бесплатной мегасилой на музыку
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-muzyiku-new
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - is-slot-in-list-channel-ivr: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie bezlimit na muzyiku, platnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-music-free #входит ли в список тарифов с бесплатной мегасилой на музыку
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-muzyiku-new
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyiku #Подключение платного продукта безлимит на музыку
      - action: utter_megasily_result_podkl_bezlimit_na_muzyiku
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyiku, platnaya megasila, chat, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-music-free #входит ли в список тарифов с бесплатной мегасилой на музыку
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-muzyiku-new
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyiku #Подключение платного продукта безлимит на музыку
      - action: utter_megasily_result_podkl_bezlimit_na_muzyiku
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyiku, platnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-music-free #входит ли в список тарифов с бесплатной мегасилой на музыку
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-muzyiku-new
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku

  - rule: megasily podkluchenie bezlimit na muzyiku, platnaya megasila, ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-music-free #входит ли в список тарифов с бесплатной мегасилой на музыку
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-muzyiku-new
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku

  - rule: megasily podkluchenie bezlimit na muzyiku, platnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyiku #Подключение платного продукта безлимит на музыку
      - action: utter_megasily_result_podkl_bezlimit_na_muzyiku
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyiku, platnaya megasila, ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_povtor

  - rule: megasily podkl bezlimit na muzyiku, platnaya megasila, ivr povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_povtor
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyiku #Подключение платного продукта безлимит на музыку
      - action: utter_megasily_result_podkl_bezlimit_na_muzyiku
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na muzyiku, platnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_povtor
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Подключение БЕСПЛАТНОЙ мегасилы на безлимит музыки
  - rule: megasily hochet podkluchit bezlimit na muzyiku, besplatnaya megasila, est conflict
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-music-free #входит ли в список тарифов с бесплатной мегасилой на музыку
      - slot_was_set:
          - list-has-slot-megasily-music-free: music-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-muzyiku-new
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - is-slot-in-list-channel-ivr: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie bezlimit na muzyiku, besplatnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-music-free #входит ли в список тарифов с бесплатной мегасилой на музыку
      - slot_was_set:
          - list-has-slot-megasily-music-free: music-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-muzyiku-new
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyiku-free #Подключение бесплатного продукта безлимит на музыку
      - action: utter_megasily_result_podkl_bezlimit_na_muzyiku
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyiku, besplatnaya megasila, chat, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-music-free #входит ли в список тарифов с бесплатной мегасилой на музыку
      - slot_was_set:
          - list-has-slot-megasily-music-free: music-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-muzyiku-new
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyiku-free #Подключение бесплатного продукта безлимит на музыку
      - action: utter_megasily_result_podkl_bezlimit_na_muzyiku
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyiku, besplatnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-music-free #входит ли в список тарифов с бесплатной мегасилой на музыку
      - slot_was_set:
          - list-has-slot-megasily-music-free: music-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-muzyiku-new
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_free

  - rule: megasily podkluchenie bezlimit na muzyiku, besplatnaya megasila, ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_muzyiku
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-music-free #входит ли в список тарифов с бесплатной мегасилой на музыку
      - slot_was_set:
          - list-has-slot-megasily-music-free: music-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyiku-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyiku: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-muzyiku-new
      - slot_was_set:
          - list-has-slot-megasily-music-free: null
          - conflicts-exists-bezlimit-na-muzyiku: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_free

  - rule: megasily podkluchenie bezlimit na muzyiku, besplatnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyiku-free #Подключение бесплатного продукта безлимит на музыку
      - action: utter_megasily_result_podkl_bezlimit_na_muzyiku
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na muzyiku, besplatnaya megasila, ivr ne vernyi vybor
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
          - intent: yes
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_povtor_free

  - rule: megasily podkl bezlimit na muzyiku, besplatnaya megasila, ivr povtor podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_povtor_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-muzyiku-free #Подключение бесплатного продукта безлимит на музыку
      - action: utter_megasily_result_podkl_bezlimit_na_muzyiku
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na muzyiku, besplatnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_muzyiku_povtor_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

####Тарифы 3.2 выбрал безлимит на музыку даем безлимит на музыку и кинотеатры
#Безлимит на музыку не подключен, хочет подключить или инфо, тариф c расширителями, нет конфликта подключения беспл
  - rule: megasily net bezlimit na muzyiku ne otkluchit, tarif s rasshiritelyami, bspl 3
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-muzyku-i-kino: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_kino_i_muzyku_free     #логика выше

#Безлимит на музыку и кино не подключен, хочет подключить или инфо
  - rule: megasily net bezlimit na muzyku i kino ne otkluchit, tarif s rasshitelem 3
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-muzyku-i-kino: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_muzyku_i_kino                  #логика выше

#Безлимит на музыку и кино не подключен, хочет подключить или инфо, расширитель
  - rule: megasily net bezlimit na muzyku i kino ne otkluchit 3
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino-rasshiritel
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: False
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-muzyku-i-kino: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_muzyku_i_kino_rasshiritel              ##логика выше

  - rule: megasily net bezlimit na muzyku i kino ne otkluchit 3
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '3'
      - action: action_subscriber-products_connected-product-bezlimit-na-muzyiku #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-muzyiku: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: True
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-muzyku-i-kino-rasshiritel
      - slot_was_set:
          - conflicts-exists-bezlimit-na-muzyku-i-kino: True
      - action: action_technical-actions_get-cleaning-ms-bezlimit-na-muzyku-i-kino
      - slot_was_set:
          - connected-product-bezlimit-na-kino: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-muzyku-i-kino: null
          - OPERATION: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

#Выбрал безлимит на облака
#Безлимит на облака подключен подключен, хочет отключить
  - rule: megasily bezlimit na oblaka otkluchit
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '4'
      - action: action_subscriber-products_connected-product-bezlimit-na-oblaka #Проверка на наличие безлимита на облака
      - slot_was_set:
          - connected-product-bezlimit-na-oblaka: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka
      - slot_was_set:
          - connected-product-bezlimit-na-oblaka: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_otkl_bezlimit_na_oblaka

  - rule: megasily bezlimit na oblaka peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_oblaka
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily bezlimit na oblaka otkluchit chat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_oblaka
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily bezlimit na oblaka otkluchit ivr
    steps:
      - action: utter_megasily_otkl_bezlimit_na_oblaka
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl #дальше общая часть для всех отключений

#Безлимит на облака подключен, хочет инфо или подключить
  - rule: megasily net bezlimit na oblaka ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '4'
      - action: action_subscriber-products_connected-product-bezlimit-na-oblaka #Проверка на наличие безлимита на облака
      - slot_was_set:
          - connected-product-bezlimit-na-oblaka: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka
      - slot_was_set:
          - connected-product-bezlimit-na-oblaka: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_oblaka
      - action: utter_ask_question

#Безлимит на облака не подключен, хочет отключить
  - rule: megasily net bezlimit na oblaka otkluchit
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '4'
      - action: action_subscriber-products_connected-product-bezlimit-na-oblaka #Проверка на наличие безлимита на облака
      - slot_was_set:
          - connected-product-bezlimit-na-oblaka: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka
      - slot_was_set:
          - connected-product-bezlimit-na-oblaka: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Безлимит на облака не подключен, хочет подключить или инфо
  - rule: megasily net bezlimit na oblaka ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_interneta
      - intent: '4'
      - action: action_subscriber-products_connected-product-bezlimit-na-oblaka #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-oblaka: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka
      - slot_was_set:
          - connected-product-bezlimit-na-oblaka: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_oblaka

  - rule: megasily ne hochet podkluchat bezlimit na oblaka
    steps:
      - action: utter_megasily_podkl_bezlimit_na_oblaka
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

#Подключение платной мегасилы на безлимит облачных сервисов
  - rule: megasily hochet podkluchit bezlimit na oblaka, platnaya megasila, est conflict
    steps:
      - action: utter_megasily_podkl_bezlimit_na_oblaka
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-oblako-free #входит ли в список тарифов с бесплатной мегасилой на облачные сервисы
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-oblaka
      - slot_was_set:
          - conflicts-exists-bezlimit-na-oblaka: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka-new
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie bezlimit na oblaka, platnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_oblaka
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-oblako-free #входит ли в список тарифов с бесплатной мегасилой на облачные сервисы
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-oblaka
      - slot_was_set:
          - conflicts-exists-bezlimit-na-oblaka: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka-new
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-oblaka 
      - action: utter_megasily_result_podkl_bezlimit_na_oblaka
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na oblaka, platnaya megasila, chat, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_oblaka
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-oblako-free #входит ли в список тарифов с бесплатной мегасилой на облачные сервисы
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-oblaka
      - slot_was_set:
          - conflicts-exists-bezlimit-na-oblaka: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka-new
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-oblaka 
      - action: utter_megasily_result_podkl_bezlimit_na_oblaka
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na oblaka, platnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_oblaka
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-oblako-free #входит ли в список тарифов с бесплатной мегасилой на облачные сервисы
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-oblaka
      - slot_was_set:
          - conflicts-exists-bezlimit-na-oblaka: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka-new
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_oblaka

  - rule: megasily podkluchenie bezlimit na oblaka, platnaya megasila, ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_oblaka
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-oblako-free #входит ли в список тарифов с бесплатной мегасилой на облачные сервисы
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-oblaka
      - slot_was_set:
          - conflicts-exists-bezlimit-na-oblaka: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka-new
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_oblaka

  - rule: megasily podkluchenie bezlimit na oblaka, platnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_oblaka
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-oblaka
      - action: utter_megasily_result_podkl_bezlimit_na_oblaka
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na oblaka, platnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_oblaka
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Подключение БЕСПЛАТНОЙ мегасилы на безлимит облачных сервисов
  - rule: megasily hochet podkluchit bezlimit na oblaka, besplatnaya megasila, est conflict
    steps:
      - action: utter_megasily_podkl_bezlimit_na_oblaka
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-oblako-free #входит ли в список тарифов с бесплатной мегасилой на облачные сервисы
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: oblako-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-oblaka-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-oblaka: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka-new
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie bezlimit na oblaka, besplatnaya megasila, chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_oblaka
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-oblako-free #входит ли в список тарифов с бесплатной мегасилой на облачные сервисы
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: oblako-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-oblaka-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-oblaka: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka-new
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-oblaka-free
      - action: utter_megasily_result_podkl_bezlimit_na_oblaka
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na oblaka, besplatnaya megasila, chat, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_oblaka
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-oblako-free #входит ли в список тарифов с бесплатной мегасилой на облачные сервисы
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: oblako-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-oblaka-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-oblaka: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka-new
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-oblaka-free
      - action: utter_megasily_result_podkl_bezlimit_na_oblaka
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na oblaka, besplatnaya megasila, ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_oblaka
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-oblako-free #входит ли в список тарифов с бесплатной мегасилой на облачные сервисы
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: oblako-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-oblaka-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-oblaka: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka-new
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_oblaka_free

  - rule: megasily podkluchenie bezlimit na oblaka, besplatnaya megasila, ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_oblaka
      - intent: yes
      - action: action_technical-actions_list-has-slot-megasily-oblako-free #входит ли в список тарифов с бесплатной мегасилой на облачные сервисы
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: oblako-free
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-oblaka-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-oblaka: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-oblaka-new
      - slot_was_set:
          - list-has-slot-megasily-oblako-free: null
          - conflicts-exists-bezlimit-na-oblaka: null
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_oblaka_free

  - rule: megasily podkluchenie bezlimit na oblaka, besplatnaya megasila, ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_oblaka_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-oblaka-free
      - action: utter_megasily_result_podkl_bezlimit_na_oblaka
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na oblaka, besplatnaya megasila, net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_oblaka_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Выбрал мегасилы pre-5G
  - rule: megasily pre-5G, v tarif vhodit opciya
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '3'
      - action: action_redirect-intent_get-redirect-intent-pre-5g

#4 УЛУЧШАЙЗЕР ТАРИФА
#Улучшайзер тарифа подключен, хочет отключить
  - rule: megasily est uluchshajzer tarifa otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_otkl_uluchshajzer_tarifa

  - rule: megasily est uluchshajzer tarifa peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_uluchshajzer_tarifa
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily est uluchshajzer tarifa otkluchit chat
    steps:
      - action: utter_megasily_otkl_uluchshajzer_tarifa
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily est uluchshajzer tarifa otkluchit ivr
    steps:
      - action: utter_megasily_otkl_uluchshajzer_tarifa
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl


#Улучшайзер тарифа подключен, хочет инфо или подключить
  - rule: megasily est uluchshajzer tarifa ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_tarifa
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет отключить
  - rule: megasily net uluchshajzer tarifa otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть максимум-вип-премиум
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, est' konflikt, max-vip-prem
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: null #максимум-вип-премиум
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-max
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть максимум-вип-премиум
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikt null, max-vip-prem
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: null #максимум-вип-премиум
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-max
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликта нет максимум-вип-премиум
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikta net, max-vip-prem
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: null #максимум-вип-премиум
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-max
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_rasshiritel_max

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, max-vip-prem
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_max
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, tarif s rasshiritelyami, konflikta net, max-vip-prem, chat
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_max
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-max   
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, tarif s rasshiritelyami, konflikta net, max-vip-prem, ivr
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_max
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_max

  - rule: megasily podkluchenie perenosa ostatkov ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_max
      - intent: '1'
      - action: action_extended-manage-product_activate-product-uluchshajzer-max
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkl perenosa ostatkov net otveta
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_max
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть минимум
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, est' konflikt, min
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: min #минимум
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-min
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть минимум
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikt null, min
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: min #минимум
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-min
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликта нет минимум
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikta net, min
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: min #минимум
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-min
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_rasshiritel_min

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, min
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_min
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, min, chat
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_min
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-min
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, min, ivr
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_min
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_min

  - rule: megasily podkluchenie uluchshajzer tarifa ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_min
      - intent: '1'
      - action: action_extended-manage-product_activate-product-uluchshajzer-min
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkl uluchshajzer tarifa net otveta
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_min
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть звонки
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, est' konflikt, zvonki
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: zvonki #звонки
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-zvonki
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть звонки
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikt null, zvonki
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: zvonki #звонки
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-zvonki
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликта нет звонки
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikta net, zvonki
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: zvonki #звонки
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-zvonki
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_rasshiritel_zvonki

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, zvonki
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_zvonki
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, zvonki, chat
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_zvonki
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-zvonki
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, zvonki, ivr
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_zvonki
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_zvonki

  - rule: megasily podkluchenieuluchshajzer tarifa ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_zvonki
      - intent: '1'
      - action: action_extended-manage-product_activate-product-uluchshajzer-zvonki
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkl uluchshajzer tarifa net otveta
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_zvonki
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть интернет
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, est' konflikt, internet
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: internet #интернет
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-internet
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть интернет
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikt null, internet
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: internet #интернет
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-internet
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликта нет интернет
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikta net, internet
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: internet #интернет
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-internet
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_rasshiritel_internet

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, internet
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_internet
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, internet, chat
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_internet
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-internet
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, internet, ivr
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_internet
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_internet

  - rule: megasily podkluchenieuluchshajzer tarifa ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_internet
      - intent: '1'
      - action: action_extended-manage-product_activate-product-uluchshajzer-internet
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkl uluchshajzer tarifa net otveta
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_internet
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть мегатариф
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, est' konflikt, internet
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: megatar #мегатариф
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-megatar
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть мегатариф
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikt null, megatar
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: megatar #мегатариф
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-megatar
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликта нет мегатариф
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikta net, megatar
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: megatar #мегатариф
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-megatar
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_rasshiritel_megatar

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, megatarif
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_megatar
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, megatar, chat
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_megatar
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-megatar
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, megatarif, ivr
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_megatar
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_megatar

  - rule: megasily podkluchenie uluchshajzer tarifa ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_megatar
      - intent: '1'
      - action: action_extended-manage-product_activate-product-uluchshajzer-megatar
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkl uluchshajzer tarifa net otveta
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_megatar
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question


#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть Персональный 6 МС
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, est' konflikt, personalnyj 6 MC
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: personal-6 #Персональный 6 МС
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-personal-6
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть Персональный 6 МС
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikt null, personalnyj 6 MC
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: personal-6 #Персональный 6 МС
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-personal-6
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликта нет Персональный 6 МС
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikta net, personalnyj 6 MC
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: personal-6 #Персональный 6 МС
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-personal-6
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_rasshiritel_personal_6

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, personalnyj 6 MC
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_personal_6
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, personalnyj 6 MC, chat
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_personal_6
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-personal-6
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, personalnyj 6 MC, ivr
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_personal_6
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_personal_6

  - rule: megasily podkluchenie uluchshajzer tarifa ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_personal_6
      - intent: '1'
      - action: action_extended-manage-product_activate-product-uluchshajzer-personal-6
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkl uluchshajzer tarifa net otveta
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_personal_6
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question


#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть Персональный 4 МС
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, est' konflikt, personalnyj 4 MC
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: personal-4 #Персональный 4 МС
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-personal-4
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть Персональный 4 МС
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikt null, personalnyj 4 MC
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: personal-4 #Персональный 4 МС
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-personal-4
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликта нет Персональный 4 МС
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikta net, personalnyj 4 MC
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: personal-4 #Персональный 4 МС
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-personal-4
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_rasshiritel_personal_4

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, personalnyj 4 MC
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_personal_4
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, personalnyj 4 MC, chat
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_personal_4
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-personal-4
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, personalnyj 4 MC, ivr
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_personal_4
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_personal_4

  - rule: megasily podkluchenie uluchshajzer tarifa ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_personal_4
      - intent: '1'
      - action: action_extended-manage-product_activate-product-uluchshajzer-personal-4
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkl uluchshajzer tarifa net otveta
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_personal_4
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question


#Улучшайзер не подключен, хочет подключить или инфо, тариф без расширителей, тариф максимум-вип-премиум
  - rule: megasily net uluchshajzer tarifa ne otkluchit, max-vip-premium
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_podkl_uluchshajzer

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, max-vip-premium
    steps:
      - action: utter_megasily_podkl_uluchshajzer
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily hochet podkluchit uluchshajzer tarifa est conflict max-vip-premium
    steps:
      - action: utter_megasily_podkl_uluchshajzer
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-max
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie uluchshajzer tarifa chat max-vip-premium
    steps:
      - action: utter_megasily_podkl_uluchshajzer
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-max
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-max     
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa chat, konflikt null max-vip-premium
    steps:
      - action: utter_megasily_podkl_uluchshajzer
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-max
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-max     
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa ivr max-vip-premium
    steps:
      - action: utter_megasily_podkl_uluchshajzer
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-max
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_max #дальнейшая логика выше

  - rule: megasily podkluchenie uluchshajzer tarifa ivr, konflikt null
    steps:
      - action: utter_megasily_podkl_uluchshajzer
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-max
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_max #дальнейшая логика выше

#Улучшайзер не подключен, хочет подключить или инфо, тариф без расширителей, тариф минимум
  - rule: megasily net uluchshajzer tarifa ne otkluchit, minimum
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: min
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_podkl_uluchshajzer_min

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, minimum
    steps:
      - action: utter_megasily_podkl_uluchshajzer_min
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily hochet podkluchit uluchshajzer tarifa est conflict minimum
    steps:
      - action: utter_megasily_podkl_uluchshajzer_min
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-min
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie uluchshajzer tarifa chat minimum
    steps:
      - action: utter_megasily_podkl_uluchshajzer_min
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-min
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-min  
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, konflikt null minimum
    steps:
      - action: utter_megasily_podkl_uluchshajzer_min
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-min
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-min     
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov ivr minimum
    steps:
      - action: utter_megasily_podkl_uluchshajzer_min
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-min
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_min #дальнейшая логика выше

  - rule: megasily podkluchenie perenosa ostatkov ivr, konflikt null minimum
    steps:
      - action: utter_megasily_podkl_uluchshajzer_min
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-min
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_min #дальнейшая логика выше

#Улучшайзер не подключен, хочет подключить или инфо, тариф без расширителей, тариф звонки
  - rule: megasily net uluchshajzer tarifa ne otkluchit, zvonki
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: zvonki
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_podkl_uluchshajzer_zvonki

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, zvonki
    steps:
      - action: utter_megasily_podkl_uluchshajzer_zvonki
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily hochet podkluchit uluchshajzer tarifa est conflict zvonki
    steps:
      - action: utter_megasily_podkl_uluchshajzer_zvonki
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-zvonki
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie uluchshajzer tarifa chat zvonki
    steps:
      - action: utter_megasily_podkl_uluchshajzer_zvonki
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-zvonki
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-zvonki
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, konflikt null zvonki
    steps:
      - action: utter_megasily_podkl_uluchshajzer_zvonki
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-zvonki
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-zvonki   
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov ivr zvonki
    steps:
      - action: utter_megasily_podkl_uluchshajzer_zvonki
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-zvonki
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_zvonki #дальнейшая логика выше

  - rule: megasily podkluchenie perenosa ostatkov ivr, konflikt null zvonki
    steps:
      - action: utter_megasily_podkl_uluchshajzer_zvonki
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-zvonki
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_zvonki #дальнейшая логика выше

#Улучшайзер не подключен, хочет подключить или инфо, тариф без расширителей, тариф интернет
  - rule: megasily net uluchshajzer tarifa ne otkluchit, internet
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: internet
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_podkl_uluchshajzer_internet

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, internet
    steps:
      - action: utter_megasily_podkl_uluchshajzer_internet
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily hochet podkluchit uluchshajzer tarifa est conflict internet
    steps:
      - action: utter_megasily_podkl_uluchshajzer_internet
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-internet
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie uluchshajzer tarifa chat internet
    steps:
      - action: utter_megasily_podkl_uluchshajzer_internet
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-internet
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-internet
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, konflikt null internet
    steps:
      - action: utter_megasily_podkl_uluchshajzer_internet
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-internet
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-internet 
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov ivr internet
    steps:
      - action: utter_megasily_podkl_uluchshajzer_internet
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-internet
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_internet #дальнейшая логика выше

  - rule: megasily podkluchenie perenosa ostatkov ivr, konflikt null internet
    steps:
      - action: utter_megasily_podkl_uluchshajzer_internet
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-internet
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_internet #дальнейшая логика выше

#Улучшайзер не подключен, хочет подключить или инфо, тариф без расширителей, тариф мегатариф
  - rule: megasily net uluchshajzer tarifa ne otkluchit, megatarif
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: null
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: megatar
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_podkl_uluchshajzer_megatar

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, megatarif
    steps:
      - action: utter_megasily_podkl_uluchshajzer_megatar
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily hochet podkluchit uluchshajzer tarifa est conflict megatarif
    steps:
      - action: utter_megasily_podkl_uluchshajzer_megatar
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-megatar
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie uluchshajzer tarifa chat megatarif
    steps:
      - action: utter_megasily_podkl_uluchshajzer_megatar
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-megatar
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-megatar
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, konflikt null megatarif
    steps:
      - action: utter_megasily_podkl_uluchshajzer_megatar
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-megatar
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-megatar
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov ivr megatarif
    steps:
      - action: utter_megasily_podkl_uluchshajzer_megatar
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-megatar
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_megatar #дальнейшая логика выше

  - rule: megasily podkluchenie perenosa ostatkov ivr, konflikt null megatarif
    steps:
      - action: utter_megasily_podkl_uluchshajzer_megatar
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-megatar
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_megatar #дальнейшая логика выше

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть минимум
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, est' konflikt, min
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: min #минимум
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-min
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть минимум
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikt null, min
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: min #минимум
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-min
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликта нет минимум
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikta net, min
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: min #минимум
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-min
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_rasshiritel_min

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, min
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_min
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, min, chat
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_min
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-min
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, min, ivr
    steps:
      - action: utter_megasily_uluchshajzer_rasshiritel_min
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_min

  - rule: megasily podkluchenie uluchshajzer tarifa ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_min
      - intent: '1'
      - action: action_extended-manage-product_activate-product-uluchshajzer-min
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkl uluchshajzer tarifa net otveta
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_min
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#линейка тарифов 3.2
#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть минимум, интернет, звонки 3.2
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, est' konflikt, in-zv-3-2
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: min-in-zv-3-2          #тарифы минимум, интернет, звонки из линейки 3.2
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-505168
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть минимум, интернет, звонки 3.2
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikt null, min-in-zv-3-2
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: min-in-zv-3-2          #тарифы минимум, интернет, звонки из линейки 3.2
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-505168
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликта нет минимум, интернет, звонки 3.2
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikta net, min-in-zv-3-2
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: min-in-zv-3-2          #тарифы минимум, интернет, звонки из линейки 3.2
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-505168
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_505168

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, min-in-zv-3-2
    steps:
      - action: utter_megasily_uluchshajzer_505168
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, tarif s rasshiritelyami, konflikta net, min-in-zv-3-2, chat
    steps:
      - action: utter_megasily_uluchshajzer_505168
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-505168  
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, tarif s rasshiritelyami, konflikta net, min-in-zv-3-2, ivr
    steps:
      - action: utter_megasily_uluchshajzer_505168
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_505168

  - rule: megasily podkluchenie perenosa ostatkov ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_505168
      - intent: '1'
      - action: action_extended-manage-product_activate-product-uluchshajzer-505168
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkl perenosa ostatkov net otveta
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_505168
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#линейка тарифов 3.2
#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть мегатариф, максимум, вип, премиум 3.2
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, est' konflikt, mega-max-vip-pr-3-2
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: mega-max-vip-pr-3-2          #тарифы мегатариф, максимум, вип, премиум 3.2
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-505169
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть мегатариф, максимум, вип, премиум 3.2
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikt null, mega-max-vip-pr-3-2
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: mega-max-vip-pr-3-2          #тарифы мегатариф, максимум, вип, премиум 3.2
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-505169
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликта нет мегатариф, максимум, вип, премиум 3.2
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikta net, mega-max-vip-pr-3-2
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: mega-max-vip-pr-3-2          #тарифы мегатариф, максимум, вип, премиум 3.2
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-505169
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_505169

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, mega-max-vip-pr-3-2
    steps:
      - action: utter_megasily_uluchshajzer_505169
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, tarif s rasshiritelyami, konflikta net, mega-max-vip-pr-3-2, chat
    steps:
      - action: utter_megasily_uluchshajzer_505169
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-505169
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, tarif s rasshiritelyami, konflikta net, mega-max-vip-pr-3-2, ivr
    steps:
      - action: utter_megasily_uluchshajzer_505169
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_505169

  - rule: megasily podkluchenie perenosa ostatkov ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_505169
      - intent: '1'
      - action: action_extended-manage-product_activate-product-uluchshajzer-505169
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkl perenosa ostatkov net otveta
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_505169
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question
      
      #линейка тарифов 4.0
#Улучшайзер тарифа не подключен, хочет подключить Бонусные ГБ или инфо, тариф с расширителями, конфликт подключения есть мегатариф, максимум, вип, премиум 4.0
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, est' konflikt, mega-max-vip-pr-4-0
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 4.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: mega-max-vip-pr-4-0         #тарифы мегатариф, максимум, вип, премиум 4.0
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-505549
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть мегатариф, максимум, вип, премиум 4.0
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikt null, mega-max-vip-pr-4-0
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: mega-max-vip-pr-4-0         #тарифы мегатариф, максимум, вип, премиум 4.0
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-505549
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликта нет мегатариф, максимум, вип, премиум 4.0
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikta net, mega-max-vip-pr-4-0
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: mega-max-vip-pr-4-0          #тарифы мегатариф, максимум, вип, премиум 4.0
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-505549
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_505549

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, mega-max-vip-pr-4-0
    steps:
      - action: utter_megasily_uluchshajzer_505549
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, tarif s rasshiritelyami, konflikta net, mega-max-vip-pr-4-0, chat
    steps:
      - action: utter_megasily_uluchshajzer_505549
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-505549
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, tarif s rasshiritelyami, konflikta net, mega-max-vip-pr-4-0, ivr
    steps:
      - action: utter_megasily_uluchshajzer_505549
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_505549

  - rule: megasily podkluchenie perenosa ostatkov ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_505549
      - intent: '1'
      - action: action_extended-manage-product_activate-product-uluchshajzer-505549
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkl perenosa ostatkov net otveta
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_505549
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question
      
 #Улучшайзер тарифа не подключен, хочет подключить Бонусные ГБ или инфо, тариф с расширителями, конфликт подключения есть минимум, интернет 4.0
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, est' konflikt, min-in-4-0
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 4.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: min-in-4-0        #тарифы минимум, интернет 4.0
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-505572
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: True
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликт подключения есть мегатариф, максимум, вип, премиум 4.0
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikt null, min-in-4-0
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: min-in-4-0        #тарифы минимум интернет 4.0
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-505572
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: null
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_lk #doit отправляем в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Улучшайзер тарифа не подключен, хочет подключить или инфо, тариф с расширителями, конфликта нет минимум интернет 4.0
  - rule: megasily net uluchshajzer tarifa, podklyuchit', tarif s rasshiritelyami, konflikta net, min-in-4-0
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '4'
      - action: action_subscriber-products_connected-product-uluchshajzer-tarifa #Проверка на наличие улучшайзера тарифа
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_subscriber-products_connected-tarif-megasily-rasshiriteli #проверка на тариф с МС (кроме Закачайся! и Персональный 3.0) и расширителями
      - slot_was_set:
          - tarif-megasily-rasshiriteli: Set
      - action: action_technical-actions_list-has-slot-megasily-uluchshajzer #разделение по тарифам для улучшайзера
      - slot_was_set:
          - list-has-slot-megasily-uluchshajzer: min-in-4-0         #тарифы минимум интернер 4.0
      - action: action_extended-manage-product_check-conflicts-exists-uluchshajzer-505572
      - slot_was_set:
          - conflicts-exists-uluchshajzer-tarifa: False
      - action: action_technical-actions_get-cleaning-megasily-uluchshajzer-tarifa
      - slot_was_set:
          - connected-product-uluchshajzer-tarifa: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-uluchshajzer-tarifa: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - tarif-megasily-rasshiriteli: null
          - list-has-slot-megasily-uluchshajzer: null
      - action: utter_megasily_uluchshajzer_505572

  - rule: megasily ne hochet podkluchat uluchshajzer tarifa, tarif s rasshiritelyami, konflikta net, min-in-4-0
    steps:
      - action: utter_megasily_uluchshajzer_505572
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, tarif s rasshiritelyami, konflikta net, min-in-4-0, chat
    steps:
      - action: utter_megasily_uluchshajzer_505572
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_activate-product-uluchshajzer-505572
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkluchenie perenosa ostatkov chat, tarif s rasshiritelyami, konflikta net, min-in-4-0, ivr
    steps:
      - action: utter_megasily_uluchshajzer_505572
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_podkl_uluchshajzer_505572

  - rule: megasily podkluchenie perenosa ostatkov ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_505572
      - intent: '1'
      - action: action_extended-manage-product_activate-product-uluchshajzer-505572
      - action: utter_megasily_result_podkl_uluchshajzer
      - action: action_send_sms_megasily_result_podkl_uluchshajzer
      - action: utter_ask_question

  - rule: megasily podkl perenosa ostatkov net otveta
    steps:
      - action: utter_megasily_push_one_podkl_uluchshajzer_505572
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#5 МЕГАСИЛЫ ДЛЯ ЗВОНКОВ
#Тариф минимум или Интернет из 08.22
  - rule: megasily dlya zvonkov
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '5'
      - action: action_technical-actions_list-has-slot-megasily-tarif
      - slot_was_set:
          - list-has-slot-megasily-tarif: min
      - action: utter_condition_megasily_dlya_zvonkov #Даем выбор из трех пунктов

#Выбрал безлимит на мегафон
#Безлимит на мегафон подключен, хочет отключить
  - rule: megasily bezlimit na megafon otkluchit
    steps:
      - action: utter_condition_megasily_dlya_zvonkov
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-megafon #Проверка на наличие безлимита на мегафон
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_otkl_bezlimit_na_megafon

  - rule: megasily bezlimit na megafon peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_megafon
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily bezlimit na megafon otkluchit chat
    steps:
      - action: utter_megasily_otkl_bezlimit_na_megafon
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily bezlimit na megafon otkluchit ivr
    steps:
      - action: utter_megasily_otkl_bezlimit_na_megafon
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl #дальше общая часть для всех отключений

#Безлимит на мегафон подключен, хочет инфо или подключить
  - rule: megasily net bezlimit na megafon ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_zvonkov
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-megafon #Проверка на наличие безлимита на мегафон
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_megafon
      - action: utter_ask_question

#Безлимит на мегафон не подключен, хочет отключить
  - rule: megasily net bezlimit na megafon otkluchit
    steps:
      - action: utter_condition_megasily_dlya_zvonkov
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-megafon #Проверка на наличие безлимита на мегафон
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Безлимит на мегафон не подключен, хочет подключить или инфо
  - rule: megasily net bezlimit na megafon ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_zvonkov
      - intent: '1'
      - action: action_subscriber-products_connected-product-bezlimit-na-megafon #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_megafon

  - rule: megasily ne hochet podkluchat bezlimit na megafon
    steps:
      - action: utter_megasily_podkl_bezlimit_na_megafon
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily hochet podkluchit bezlimit na megafon est conflict
    steps:
      - action: utter_megasily_podkl_bezlimit_na_megafon
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-megafon
      - slot_was_set:
          - conflicts-exists-bezlimit-na-megafon: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie bezlimit na megafon chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_megafon
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-megafon
      - slot_was_set:
          - conflicts-exists-bezlimit-na-megafon: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-megafon
      - action: utter_megasily_result_podkl_bezlimit_na_megafon
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na megafon chat konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_megafon
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-megafon
      - slot_was_set:
          - conflicts-exists-bezlimit-na-megafon: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: action_extended-manage-product_activate-product-bezlimit-na-megafon
      - action: utter_megasily_result_podkl_bezlimit_na_megafon
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na megafon ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_megafon
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-megafon
      - slot_was_set:
          - conflicts-exists-bezlimit-na-megafon: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_megafon

  - rule: megasily podkluchenie bezlimit na megafon ivr konflikt null
    steps:
      - action: utter_megasily_podkl_bezlimit_na_megafon
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-bezlimit-na-megafon
      - slot_was_set:
          - conflicts-exists-bezlimit-na-megafon: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_push_one_podkl_bezlimit_na_megafon

  - rule: megasily podkluchenie bezlimit na megafon ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_megafon
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-megafon
      - action: utter_megasily_result_podkl_bezlimit_na_megafon
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na megafon net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_megafon
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Выбрал звонки на городские
#Звонки на городские подключен подключен, хочет отключить
  - rule: megasily zvonki na gorodskie otkluchit
    steps:
      - action: utter_condition_megasily_dlya_zvonkov
      - intent: '2'
      - action: action_subscriber-products_connected-product-zvonki-na-gorodskie #Проверка на наличие безлимита на городские
      - slot_was_set:
          - connected-product-zvonki-na-gorodskie: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-gorodskie
      - slot_was_set:
          - connected-product-zvonki-na-gorodskie: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-gorodskie: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_otkl_zvonki_na_gorodskie

  - rule: megasily zvonki na gorodskie peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_zvonki_na_gorodskie
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily zvonki na gorodskie otkluchit chat
    steps:
      - action: utter_megasily_otkl_zvonki_na_gorodskie
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily zvonki na gorodskie otkluchit ivr
    steps:
      - action: utter_megasily_otkl_zvonki_na_gorodskie
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl #дальше общая часть для всех отключений

#Звонки на городские подключен, хочет инфо или подключить
  - rule: megasily net zvonki na gorodskie ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_zvonkov
      - intent: '2'
      - action: action_subscriber-products_connected-product-zvonki-na-gorodskie #Проверка на наличие безлимита на городские
      - slot_was_set:
          - connected-product-zvonki-na-gorodskie: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-gorodskie
      - slot_was_set:
          - connected-product-zvonki-na-gorodskie: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-gorodskie: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_zvonki_na_gorodskie
      - action: utter_ask_question

#Звонки на городские не подключен, хочет отключить
  - rule: megasily net zvonki na gorodskie otkluchit
    steps:
      - action: utter_condition_megasily_dlya_zvonkov
      - intent: '2'
      - action: action_subscriber-products_connected-product-zvonki-na-gorodskie #Проверка на наличие безлимита на городские
      - slot_was_set:
          - connected-product-zvonki-na-gorodskie: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-gorodskie
      - slot_was_set:
          - connected-product-zvonki-na-gorodskie: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-gorodskie: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Звонки на городские не подключен, хочет подключить или инфо
  - rule: megasily net zvonki na gorodskie ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_zvonkov
      - intent: '2'
      - action: action_subscriber-products_connected-product-zvonki-na-gorodskie #Проверка на наличие звонки на городские
      - slot_was_set:
          - connected-product-zvonki-na-gorodskie: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-gorodskie
      - slot_was_set:
          - connected-product-zvonki-na-gorodskie: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-gorodskie: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_podkl_zvonki_na_gorodskie

  - rule: megasily ne hochet podkluchat zvonki na gorodskie
    steps:
      - action: utter_megasily_podkl_zvonki_na_gorodskie
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily hochet podkluchit zvonki na gorodskie est conflict
    steps:
      - action: utter_megasily_podkl_zvonki_na_gorodskie
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-zvonki-na-gorodskie
      - slot_was_set:
          - conflicts-exists-zvonki-na-gorodskie: True
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-gorodskie
      - slot_was_set:
          - connected-product-zvonki-na-gorodskie: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-gorodskie: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie zvonki na gorodskie chat
    steps:
      - action: utter_megasily_podkl_zvonki_na_gorodskie
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-zvonki-na-gorodskie
      - slot_was_set:
          - conflicts-exists-zvonki-na-gorodskie: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-gorodskie
      - slot_was_set:
          - connected-product-zvonki-na-gorodskie: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-gorodskie: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: action_extended-manage-product_activate-product-zvonki-na-gorodskie
      - action: utter_megasily_result_podkl_zvonki_na_gorodskie
      - action: utter_ask_question

  - rule: megasily podkluchenie zvonki na gorodskie chat konflikt null
    steps:
      - action: utter_megasily_podkl_zvonki_na_gorodskie
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-zvonki-na-gorodskie
      - slot_was_set:
          - conflicts-exists-zvonki-na-gorodskie: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-gorodskie
      - slot_was_set:
          - connected-product-zvonki-na-gorodskie: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-gorodskie: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: action_extended-manage-product_activate-product-zvonki-na-gorodskie
      - action: utter_megasily_result_podkl_zvonki_na_gorodskie
      - action: utter_ask_question

  - rule: megasily podkluchenie zvonki na gorodskie ivr
    steps:
      - action: utter_megasily_podkl_zvonki_na_gorodskie
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-zvonki-na-gorodskie
      - slot_was_set:
          - conflicts-exists-zvonki-na-gorodskie: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-gorodskie
      - slot_was_set:
          - connected-product-zvonki-na-gorodskie: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-gorodskie: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_push_one_podkl_zvonki_na_gorodskie

  - rule: megasily podkluchenie zvonki na gorodskie ivr konflikt null
    steps:
      - action: utter_megasily_podkl_zvonki_na_gorodskie
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-zvonki-na-gorodskie
      - slot_was_set:
          - conflicts-exists-zvonki-na-gorodskie: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-gorodskie
      - slot_was_set:
          - connected-product-zvonki-na-gorodskie: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-gorodskie: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_push_one_podkl_zvonki_na_gorodskie

  - rule: megasily podkluchenie zvonki na gorodskie ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_zvonki_na_gorodskie
      - intent: '1'
      - action: action_extended-manage-product_activate-product-zvonki-na-gorodskie
      - action: utter_megasily_result_podkl_zvonki_na_gorodskie
      - action: utter_ask_question

  - rule: megasily podkl zvonki na gorodskie net otveta
    steps:
      - action: utter_megasily_push_one_podkl_zvonki_na_gorodskie
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Выбрал звонки на межгород
#Звонки на межгород подключены, хочет отключить
  - rule: megasily zvonki na meggorod otkluchit
    steps:
      - action: utter_condition_megasily_dlya_zvonkov
      - intent: '3'
      - action: action_subscriber-products_connected-product-zvonki-na-meggorod #Проверка на наличие звонки на межгород
      - slot_was_set:
          - connected-product-zvonki-na-meggorod: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-meggorod
      - slot_was_set:
          - connected-product-zvonki-na-meggorod: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-meggorod: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_otkl_zvonki_na_meggorod

  - rule: megasily zvonki na meggorod peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_zvonki_na_meggorod
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily zvonki na meggorod otkluchit chat
    steps:
      - action: utter_megasily_otkl_zvonki_na_meggorod
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily zvonki na meggorod otkluchit ivr
    steps:
      - action: utter_megasily_otkl_zvonki_na_meggorod
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl #дальше общая часть для всех отключений

#Звонки на межгород подключен, хочет инфо или подключить
  - rule: megasily net zvonki na meggorod ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_zvonkov
      - intent: '3'
      - action: action_subscriber-products_connected-product-zvonki-na-meggorod #Проверка на наличие Звонки на межгород
      - slot_was_set:
          - connected-product-zvonki-na-meggorod: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-meggorod
      - slot_was_set:
          - connected-product-zvonki-na-meggorod: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-meggorod: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_zvonki_na_meggorod
      - action: utter_ask_question

#Звонки на межгород не подключен, хочет отключить
  - rule: megasily net zvonki na meggorod otkluchit
    steps:
      - action: utter_condition_megasily_dlya_zvonkov
      - intent: '3'
      - action: action_subscriber-products_connected-product-zvonki-na-meggorod #Проверка на наличие Звонки на межгород
      - slot_was_set:
          - connected-product-zvonki-na-meggorod: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-meggorod
      - slot_was_set:
          - connected-product-zvonki-na-meggorod: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-meggorod: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Звонки на межгород не подключен, хочет подключить или инфо
  - rule: megasily net zvonki na meggorod ne otkluchit
    steps:
      - action: utter_condition_megasily_dlya_zvonkov
      - intent: '3'
      - action: action_subscriber-products_connected-product-zvonki-na-meggorod #Проверка на наличие звонки на межгород
      - slot_was_set:
          - connected-product-zvonki-na-meggorod: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-meggorod
      - slot_was_set:
          - connected-product-zvonki-na-meggorod: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-meggorod: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_podkl_zvonki_na_meggorod

  - rule: megasily ne hochet podkluchat zvonki na meggorod
    steps:
      - action: utter_megasily_podkl_zvonki_na_meggorod
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily hochet podkluchit zvonki na meggorod est conflict
    steps:
      - action: utter_megasily_podkl_zvonki_na_meggorod
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-zvonki-na-meggorod
      - slot_was_set:
          - conflicts-exists-zvonki-na-meggorod: True
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-meggorod
      - slot_was_set:
          - connected-product-zvonki-na-meggorod: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-meggorod: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: action_redirect-intent_get-redirect-intent-conflicts-activate

  - rule: megasily podkluchenie zvonki na meggorod chat
    steps:
      - action: utter_megasily_podkl_zvonki_na_meggorod
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-zvonki-na-meggorod
      - slot_was_set:
          - conflicts-exists-zvonki-na-meggorod: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-meggorod
      - slot_was_set:
          - connected-product-zvonki-na-meggorod: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-meggorod: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: action_extended-manage-product_activate-product-zvonki-na-meggorod
      - action: utter_megasily_result_podkl_zvonki_na_meggorod
      - action: utter_ask_question

  - rule: megasily podkluchenie zvonki na meggorod chat konflikt null
    steps:
      - action: utter_megasily_podkl_zvonki_na_meggorod
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-zvonki-na-meggorod
      - slot_was_set:
          - conflicts-exists-zvonki-na-meggorod: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-meggorod
      - slot_was_set:
          - connected-product-zvonki-na-meggorod: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-meggorod: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: action_extended-manage-product_activate-product-zvonki-na-meggorod
      - action: utter_megasily_result_podkl_zvonki_na_meggorod
      - action: utter_ask_question

  - rule: megasily podkluchenie zvonki na meggorod ivr
    steps:
      - action: utter_megasily_podkl_zvonki_na_meggorod
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-zvonki-na-meggorod
      - slot_was_set:
          - conflicts-exists-zvonki-na-meggorod: False
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-meggorod
      - slot_was_set:
          - connected-product-zvonki-na-meggorod: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-meggorod: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_push_one_podkl_zvonki_na_meggorod

  - rule: megasily podkluchenie zvonki na meggorod ivr konflikt null
    steps:
      - action: utter_megasily_podkl_zvonki_na_meggorod
      - intent: yes
      - action: action_extended-manage-product_check-conflicts-exists-zvonki-na-meggorod
      - slot_was_set:
          - conflicts-exists-zvonki-na-meggorod: null
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-megasily-zvonki-na-meggorod
      - slot_was_set:
          - connected-product-zvonki-na-meggorod: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-zvonki-na-meggorod: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_push_one_podkl_zvonki_na_meggorod

  - rule: megasily podkluchenie zvonki na meggorod ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_zvonki_na_meggorod
      - intent: '1'
      - action: action_extended-manage-product_activate-product-zvonki-na-meggorod
      - action: utter_megasily_result_podkl_zvonki_na_meggorod
      - action: utter_ask_question

  - rule: megasily podkl zvonki na meggorod net otveta
    steps:
      - action: utter_megasily_push_one_podkl_zvonki_na_meggorod
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question


#Тариф не минимум и не интернет из 08 22, выбрал мегасилы для звонков
#Безлимит на мегафон подключен, хочет отключить
  - rule: megasily bezlimit na megafon otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '5'
      - action: action_technical-actions_list-has-slot-megasily-tarif
      - slot_was_set:
          - list-has-slot-megasily-tarif: null
      - action: action_subscriber-products_connected-product-bezlimit-na-megafon #Проверка на наличие безлимита на мегафон
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_otkl_bezlimit_na_megafon #разделение есть выше

#Безлимит на мегафон подключен, хочет инфо или подключить
  - rule: megasily net bezlimit na megafon ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '5'
      - action: action_technical-actions_list-has-slot-megasily-tarif
      - slot_was_set:
          - list-has-slot-megasily-tarif: null
      - action: action_subscriber-products_connected-product-bezlimit-na-megafon #Проверка на наличие безлимита на мегафон
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_bezlimit_na_megafon
      - action: utter_ask_question

#Безлимит на мегафон не подключен, хочет отключить
  - rule: megasily net bezlimit na megafon otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '5'
      - action: action_technical-actions_list-has-slot-megasily-tarif
      - slot_was_set:
          - list-has-slot-megasily-tarif: null
      - action: action_subscriber-products_connected-product-bezlimit-na-megafon #Проверка на наличие безлимита на мегафон
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Безлимит на мегафон не подключен, хочет подключить или инфо
  - rule: megasily net bezlimit na megafon ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '5'
      - action: action_technical-actions_list-has-slot-megasily-tarif
      - slot_was_set:
          - list-has-slot-megasily-tarif: null
      - action: action_subscriber-products_connected-product-bezlimit-na-megafon #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: null
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_megafon  #разделение есть выше

#Безлимит на мегафон не подключен, хочет подключить или инфо,ЛИНЕЙКА 3.2
  - rule: megasily net bezlimit na megafon ne otkluchit rasshiritel 501100
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '5'
      - action: action_technical-actions_list-has-slot-megasily-tarif
      - slot_was_set:
          - list-has-slot-megasily-tarif: null
      - action: action_subscriber-products_connected-product-bezlimit-na-megafon #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_conflicts-exists-bezlimit-na-megafon-504355-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-megafon: True
      - action: action_extended-manage-product_conflicts-exists-bezlimit-na-megafon-504657
      - slot_was_set:
          - conflicts-exists-bezlimit-na-megafon: True
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_megafon

#доступен платный безлимит на мегафон 504657
  - rule: megasily net bezlimit na megafon ne otkluchit 
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '5'
      - action: action_technical-actions_list-has-slot-megasily-tarif
      - slot_was_set:
          - list-has-slot-megasily-tarif: null
      - action: action_subscriber-products_connected-product-bezlimit-na-megafon #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_conflicts-exists-bezlimit-na-megafon-504355-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-megafon: True
      - action: action_extended-manage-product_conflicts-exists-bezlimit-na-megafon-504657
      - slot_was_set:
          - conflicts-exists-bezlimit-na-megafon: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_megafon_504657

#подключаем платный безлимит на мегафон 504657
  - rule: megasily ne hochet podkluchat bezlimit na megafon
    steps:
      - action: utter_megasily_podkl_bezlimit_na_megafon_504657
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na megafon chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_megafon_504657
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_extended-manage-product_activate-product-bezlimit-na-megafon-504657
      - action: utter_megasily_result_podkl_bezlimit_na_megafon
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na megafon ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_megafon_504657
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: utter_megasily_push_one_podkl_bezlimit_na_megafon_504657

  - rule: megasily podkluchenie bezlimit na megafon ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_megafon_504657
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-megafon-504657
      - action: utter_megasily_result_podkl_bezlimit_na_megafon
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na megafon net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_megafon_504657
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#доступен бесплатный безлимит на мегафон 504355
  - rule: megasily net bezlimit na megafon ne otkluchit 
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '5'
      - action: action_technical-actions_list-has-slot-megasily-tarif
      - slot_was_set:
          - list-has-slot-megasily-tarif: null
      - action: action_subscriber-products_connected-product-bezlimit-na-megafon #Проверка на наличие безлимита на музыку
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-new-tariffs
      - slot_was_set:
          - list-has-slot-new-tariffs: Set
      - action: action_extended-manage-product_conflicts-exists-bezlimit-na-megafon-504355-free
      - slot_was_set:
          - conflicts-exists-bezlimit-na-megafon: False
      - action: action_technical-actions_get-cleaning-megasily-bezlimit-na-megafon
      - slot_was_set:
          - connected-product-bezlimit-na-megafon: null
          - list-has-slot-megasily-OPERATION: null
          - conflicts-exists-bezlimit-na-megafon: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
      - action: utter_megasily_podkl_bezlimit_na_megafon_504355_free

#подключаем бесплатный безлимит на мегафон 504355
  - rule: megasily ne hochet podkluchat bezlimit na megafon
    steps:
      - action: utter_megasily_podkl_bezlimit_na_megafon_504355_free
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na megafon chat
    steps:
      - action: utter_megasily_podkl_bezlimit_na_megafon_504355_free
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_extended-manage-product_activate-product-bezlimit-na-megafon-504355-free
      - action: utter_megasily_result_podkl_bezlimit_na_megafon
      - action: utter_ask_question

  - rule: megasily podkluchenie bezlimit na megafon ivr
    steps:
      - action: utter_megasily_podkl_bezlimit_na_megafon_504355_free
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: utter_megasily_push_one_podkl_bezlimit_na_megafon_504355_free

  - rule: megasily podkluchenie bezlimit na megafon ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_megafon_504355_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-bezlimit-na-megafon-504355-free
      - action: utter_megasily_result_podkl_bezlimit_na_megafon
      - action: utter_ask_question

  - rule: megasily podkl bezlimit na megafon net otveta
    steps:
      - action: utter_megasily_push_one_podkl_bezlimit_na_megafon_504355_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

#Выбрал подписку START
  - rule: megasily START
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '6'
      - action: action_technical-actions_list-has-slot-megasily-tarif-start
      - action: utter_megasily_start
      - action: action_send_sms_megasily_start
      - action: utter_ask_question

#ВЫБРАЛ КНОПКУ 7 ОБМЕН ТРАФИКА
#Обмен трафика есть просит отключить
  - rule: megasily obmen trafika otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '7'
      - action: action_subscriber-products_connected-obmen-trafika #Проверка на наличие Обмен трафика/Скидка в обмен
      - slot_was_set:
          - connected-obmen-trafika: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-obmen-trafika
      - slot_was_set:
          - connected-obmen-trafika: null
          - list-has-slot-megasily-OPERATION: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - conflicts-exists-obmen-trafika-free: null
          - conflicts-exists-obmen-trafika: null
      - action: utter_megasily_otkl_obmen_trafika

#отключение Обмен трафика
  - rule: megasily zobmen trafika peredumal otkluchat
    steps:
      - action: utter_megasily_otkl_obmen_trafika
      - intent: no
      - action: utter_megasily_peredumal_otkluchat
      - action: utter_ask_question

  - rule: megasily obmen trafika otkluchit chat
    steps:
      - action: utter_megasily_otkl_obmen_trafika
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: action_extended-manage-product_get-result-deactivate-product-megasily
      - action: utter_megasily_result_otkl
      - action: utter_ask_question

  - rule: megasily obmen trafika otkluchit ivr
    steps:
      - action: utter_megasily_otkl_obmen_trafika
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: action_technical-actions_get-cleaning-slot-is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: null
      - action: utter_megasily_push_one_otkl #дальше общая часть для всех отключений

#Обмен трафика подключен, хочет инфо или подключить
  - rule: megasily obmen trafika ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '7'
      - action: action_subscriber-products_connected-obmen-trafika #Проверка на наличие Обмен трафика
      - slot_was_set:
          - connected-obmen-trafika: Set
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_get-cleaning-megasily-obmen-trafika
      - slot_was_set:
          - connected-obmen-trafika: null
          - list-has-slot-megasily-OPERATION: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - conflicts-exists-obmen-trafika-free: null
          - conflicts-exists-obmen-trafika: null
      - action: utter_megasily_obmen_trafika
      - action: utter_ask_question

#Обмен трафика не подключен, хочет отключить
  - rule: megasily obmen trafika otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '7'
      - action: action_subscriber-products_connected-obmen-trafika #Проверка на наличие Обмен трафика
      - slot_was_set:
          - connected-obmen-trafika: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: OTKL
      - action: action_technical-actions_get-cleaning-megasily-obmen-trafika
      - slot_was_set:
          - connected-obmen-trafika: null
          - list-has-slot-megasily-OPERATION: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - conflicts-exists-obmen-trafika-free: null
          - conflicts-exists-obmen-trafika: null
      - action: utter_megasily_ne_podklucheny
      - action: utter_ask_question

#Обмен трафика не подключен, хочет подключить или инфо, конфликты
  - rule: megasily net obmen trafika ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '7'
      - action: action_subscriber-products_connected-obmen-trafika #Проверка на наличие Обмен трафика
      - slot_was_set:
          - connected-obmen-trafika: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-tarify-ms-skidka
      - slot_was_set:
          - list-has-slot-tarify-ms-skidka: null
      - action: action_extended-manage-product_conflicts-exists-obmen-trafika-free
      - slot_was_set:
          - conflicts-exists-obmen-trafika-free: True
      - action: action_extended-manage-product_conflicts-exists-obmen-trafika
      - slot_was_set:
          - conflicts-exists-obmen-trafika: True
      - action: action_technical-actions_get-cleaning-megasily-obmen-trafika
      - slot_was_set:
          - connected-obmen-trafika: null
          - list-has-slot-megasily-OPERATION: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - conflicts-exists-obmen-trafika-free: null
          - conflicts-exists-obmen-trafika: null
      - action: utter_megasily_obmen_trafika_lk #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

#Обмен трафика не подключен, хочет подключить или инфо
  - rule: megasily net obmen trafika ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '7'
      - action: action_subscriber-products_connected-obmen-trafika #Проверка на наличие Обмен трафика
      - slot_was_set:
          - connected-obmen-trafika: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-tarify-ms-skidka
      - slot_was_set:
          - list-has-slot-tarify-ms-skidka: null
      - action: action_extended-manage-product_conflicts-exists-obmen-trafika-free
      - slot_was_set:
          - conflicts-exists-obmen-trafika-free: True
      - action: action_extended-manage-product_conflicts-exists-obmen-trafika
      - slot_was_set:
          - conflicts-exists-obmen-trafika: False
      - action: action_technical-actions_get-cleaning-megasily-obmen-trafika
      - slot_was_set:
          - connected-obmen-trafika: null
          - list-has-slot-megasily-OPERATION: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - conflicts-exists-obmen-trafika-free: null
          - conflicts-exists-obmen-trafika: null
      - action: utter_megasily_obmen_trafika_ap

#подключаем платный Обмен трафика
  - rule: megasily podkluchenie obmen trafika chat
    steps:
      - action: utter_megasily_obmen_trafika_ap
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie obmen trafika chat
    steps:
      - action: utter_megasily_obmen_trafika_ap
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_extended-manage-product_activate-product-obmen-trafika
      - action: utter_megasily_result_podkl_obmen_trafika
      - action: utter_ask_question

  - rule: megasily podkluchenie obmen trafika chat
    steps:
      - action: utter_megasily_obmen_trafika_ap
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: utter_megasily_push_one_podkl_obmen_trafika

  - rule: megasily podkluchenie obmen trafika ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_obmen_trafika
      - intent: '1'
      - action: action_extended-manage-product_activate-product-obmen-trafika
      - action: utter_megasily_result_podkl_obmen_trafika
      - action: utter_ask_question

  - rule: megasily podkl obmen trafika net otveta
    steps:
      - action: utter_megasily_push_one_podkl_obmen_trafika
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

##Обмен трафика не подключен, хочет подключить или инфо
  - rule: megasily net obmen trafika ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '7'
      - action: action_subscriber-products_connected-obmen-trafika #Проверка на наличие Обмен трафика
      - slot_was_set:
          - connected-obmen-trafika: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-tarify-ms-skidka
      - slot_was_set:
          - list-has-slot-tarify-ms-skidka: null
      - action: action_extended-manage-product_conflicts-exists-obmen-trafika-free
      - slot_was_set:
          - conflicts-exists-obmen-trafika-free: False
      - action: action_technical-actions_get-cleaning-megasily-obmen-trafika
      - slot_was_set:
          - connected-obmen-trafika: null
          - list-has-slot-megasily-OPERATION: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - conflicts-exists-obmen-trafika-free: null
          - conflicts-exists-obmen-trafika: null
      - action: utter_megasily_obmen_trafika_free

##подключаем бесплатный Обмен трафика
  - rule: megasily podkluchenie obmen trafika chat
    steps:
      - action: utter_megasily_obmen_trafika_free
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie obmen trafika chat
    steps:
      - action: utter_megasily_obmen_trafika_free
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_extended-manage-product_activate-product-obmen-trafika-free
      - action: utter_megasily_result_podkl_obmen_trafika_free
      - action: utter_ask_question

  - rule: megasily podkluchenie obmen trafika chat
    steps:
      - action: utter_megasily_obmen_trafika_free
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: utter_megasily_push_one_podkl_obmen_trafika_free

  - rule: megasily podkluchenie obmen trafika ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_obmen_trafika_free
      - intent: '1'
      - action: action_extended-manage-product_activate-product-obmen-trafika-free
      - action: utter_megasily_result_podkl_obmen_trafika_free
      - action: utter_ask_question

  - rule: megasily podkl obmen trafika net otveta
    steps:
      - action: utter_megasily_push_one_podkl_obmen_trafika_free
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

##Обмен трафика/Скидка не подключен, хочет подключить или инфо тарифы 4.0 (максимум, интернет) есть конфликт
  - rule: megasily net obmen trafika ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '7'
      - action: action_subscriber-products_connected-obmen-trafika #Проверка на наличие Обмен трафика
      - slot_was_set:
          - connected-obmen-trafika: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-tarify-ms-skidka
      - slot_was_set:
          - list-has-slot-tarify-ms-skidka: 4-0-min-int
      - action: action_extended-manage-product_conflicts-exists-skidka-505893
      - slot_was_set:
          - conflicts-exists-skidka-505893: True
      - action: action_technical-actions_get-cleaning-megasily-obmen-trafika
      - slot_was_set:
          - connected-obmen-trafika: null
          - list-has-slot-megasily-OPERATION: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - conflicts-exists-obmen-trafika-free: null
          - conflicts-exists-obmen-trafika: null
      - action: utter_megasily_skidka_lk_505893 #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

##Обмен трафика/Скидка не подключен, хочет подключить или инфо тарифы 4.0 (максимум, интернет) есть конфликт
  - rule: megasily net obmen trafika ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '7'
      - action: action_subscriber-products_connected-obmen-trafika #Проверка на наличие Обмен трафика
      - slot_was_set:
          - connected-obmen-trafika: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-tarify-ms-skidka
      - slot_was_set:
          - list-has-slot-tarify-ms-skidka: 4-0-min-int
      - action: action_extended-manage-product_conflicts-exists-skidka-505893
      - slot_was_set:
          - conflicts-exists-skidka-505893: null
      - action: action_technical-actions_get-cleaning-megasily-obmen-trafika
      - slot_was_set:
          - connected-obmen-trafika: null
          - list-has-slot-megasily-OPERATION: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - conflicts-exists-obmen-trafika-free: null
          - conflicts-exists-obmen-trafika: null
      - action: utter_megasily_skidka_lk_505893 #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

##Обмен трафика/Скидка не подключен, хочет подключить или инфо тарифы 4.0 (максимум, интернет) предлагаем подключить
  - rule: megasily net obmen trafika ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '7'
      - action: action_subscriber-products_connected-obmen-trafika #Проверка на наличие Обмен трафика
      - slot_was_set:
          - connected-obmen-trafika: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-tarify-ms-skidka
      - slot_was_set:
          - list-has-slot-tarify-ms-skidka: 4-0-min-int
      - action: action_extended-manage-product_conflicts-exists-skidka-505893
      - slot_was_set:
          - conflicts-exists-skidka-505893: False
      - action: action_technical-actions_get-cleaning-megasily-obmen-trafika
      - slot_was_set:
          - connected-obmen-trafika: null
          - list-has-slot-megasily-OPERATION: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - conflicts-exists-obmen-trafika-free: null
          - conflicts-exists-obmen-trafika: null
      - action: utter_megasily_skidka_505893

  - rule: megasily podkluchenie obmen trafika chat
    steps:
      - action: utter_megasily_skidka_505893
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie obmen trafika chat
    steps:
      - action: utter_megasily_skidka_505893
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_extended-manage-product_activate-product-skidka-505893
      - action: utter_megasily_result_podkl_skidka
      - action: utter_ask_question

  - rule: megasily podkluchenie obmen trafika chat
    steps:
      - action: utter_megasily_skidka_505893
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: utter_megasily_push_one_podkl_skidka

  - rule: megasily podkluchenie obmen trafika ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_skidka
      - intent: '1'
      - action: action_extended-manage-product_activate-product-skidka-505893
      - action: utter_megasily_result_podkl_skidka
      - action: utter_ask_question

  - rule: megasily podkl obmen trafika net otveta
    steps:
      - action: utter_megasily_push_one_podkl_skidka
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question

##Обмен трафика/Скидка не подключен, хочет подключить или инфо тарифы 4.0 (мегатриф, максимум, вип) есть конфликт
  - rule: megasily net obmen trafika ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '7'
      - action: action_subscriber-products_connected-obmen-trafika #Проверка на наличие Обмен трафика
      - slot_was_set:
          - connected-obmen-trafika: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-tarify-ms-skidka
      - slot_was_set:
          - list-has-slot-tarify-ms-skidka: 4-0-mega-max-vip
      - action: action_extended-manage-product_conflicts-exists-skidka-505894
      - slot_was_set:
          - conflicts-exists-skidka-505894: True
      - action: action_technical-actions_get-cleaning-megasily-obmen-trafika
      - slot_was_set:
          - connected-obmen-trafika: null
          - list-has-slot-megasily-OPERATION: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - conflicts-exists-obmen-trafika-free: null
          - conflicts-exists-obmen-trafika: null
      - action: utter_megasily_skidka_lk_505894 #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

##Обмен трафика/Скидка не подключен, хочет подключить или инфо тарифы 4.0 (мегатриф, максимум, вип) есть конфликт
  - rule: megasily net obmen trafika ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '7'
      - action: action_subscriber-products_connected-obmen-trafika #Проверка на наличие Обмен трафика
      - slot_was_set:
          - connected-obmen-trafika: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-tarify-ms-skidka
      - slot_was_set:
          - list-has-slot-tarify-ms-skidka: 4-0-mega-max-vip
      - action: action_extended-manage-product_conflicts-exists-skidka-505894
      - slot_was_set:
          - conflicts-exists-skidka-505894: null
      - action: action_technical-actions_get-cleaning-megasily-obmen-trafika
      - slot_was_set:
          - connected-obmen-trafika: null
          - list-has-slot-megasily-OPERATION: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - conflicts-exists-obmen-trafika-free: null
          - conflicts-exists-obmen-trafika: null
      - action: utter_megasily_skidka_lk_505894 #отсылка в ЛК
      - action: action_send_sms_megasily_lk
      - action: utter_ask_question

##Обмен трафика/Скидка не подключен, хочет подключить или инфо тарифы 4.0 (мегатриф, максимум, вип) предлагаем подключить
  - rule: megasily net obmen trafika ne otkluchit
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '7'
      - action: action_subscriber-products_connected-obmen-trafika #Проверка на наличие Обмен трафика
      - slot_was_set:
          - connected-obmen-trafika: null
      - action: action_technical-actions_list-has-slot-megasily-OPERATION #Проверяем на сущность отключить\подключить
      - slot_was_set:
          - list-has-slot-megasily-OPERATION: null
      - action: action_technical-actions_list-has-slot-tarify-ms-skidka
      - slot_was_set:
          - list-has-slot-tarify-ms-skidka: 4-0-mega-max-vip
      - action: action_extended-manage-product_conflicts-exists-skidka-505894
      - slot_was_set:
          - conflicts-exists-skidka-505894: False
      - action: action_technical-actions_get-cleaning-megasily-obmen-trafika
      - slot_was_set:
          - connected-obmen-trafika: null
          - list-has-slot-megasily-OPERATION: null
          - is-slot-in-list-channel-ivr: null
          - OPERATION: null
          - conflicts-exists-obmen-trafika-free: null
          - conflicts-exists-obmen-trafika: null
      - action: utter_megasily_skidka_505894

  - rule: megasily podkluchenie obmen trafika chat
    steps:
      - action: utter_megasily_skidka_505894
      - intent: no
      - action: utter_megasily_ne_hochet_podkluchat
      - action: utter_ask_question

  - rule: megasily podkluchenie obmen trafika chat
    steps:
      - action: utter_megasily_skidka_505894
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: False
      - action: action_extended-manage-product_activate-product-skidka-505894
      - action: utter_megasily_result_podkl_skidka
      - action: utter_ask_question

  - rule: megasily podkluchenie obmen trafika chat
    steps:
      - action: utter_megasily_skidka_505894
      - intent: yes
      - action: action_technical-actions_is-slot-in-list-channel-ivr
      - slot_was_set:
          - is-slot-in-list-channel-ivr: True
      - action: utter_megasily_push_one_podkl_skidka_505894

  - rule: megasily podkluchenie obmen trafika ivr podtverdil
    steps:
      - action: utter_megasily_push_one_podkl_skidka_505894
      - intent: '1'
      - action: action_extended-manage-product_activate-product-skidka-505894
      - action: utter_megasily_result_podkl_skidka
      - action: utter_ask_question

  - rule: megasily podkl obmen trafika net otveta
    steps:
      - action: utter_megasily_push_one_podkl_skidka_505894
      - or:
          - intent: '0'
          - intent: '2'
          - intent: '3'
          - intent: '4'
          - intent: '5'
          - intent: '6'
          - intent: '7'
          - intent: '8'
          - intent: '9'
      - action: utter_megasily_push_one_otkl_net_otveta
      - action: utter_ask_question
      
#Выбрал мегасилу Связь при нуле
  - rule: megasily svyaz pri nule
    steps:
      - action: utter_condition_megasily_notregion
      - intent: '8'
      - action: utter_megasily_svyaz_pri_nule
      - action: utter_ask_question
